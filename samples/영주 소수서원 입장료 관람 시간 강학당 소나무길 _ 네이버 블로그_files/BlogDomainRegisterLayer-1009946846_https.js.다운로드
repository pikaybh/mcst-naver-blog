blogDomainRegisterLayer=(function(y){var e;var n;var h;var x;var t,m;function q(z){e=y;h=e("#"+z.wrapperDivId,(z.win||window).document);n=z.registerBtnEl;j(h,e("#blogDomainRegisterLayerTemplate"));oApiUrl=z.apiUrl;x=z.isPayAccepted;m=z.clickCodePrefix;t=m+"okerrid";if(!!z.initialCode){nclk_v2(this,z.initialCode,"","")}if(!z.isChangeLayer&&!z.isLightVersion){var B=g(z,recommendBlogLayer.show,blogInfoLayer.show);personalThemeLayer.init(B);var A=o(z,personalThemeLayer.showWithoutFetch);recommendBlogLayer.init(A);var D=p(z,personalThemeLayer.show,domainSettingLayer.showWelcomeLayer);blogInfoLayer.init(D);var C=s(z,blogInfoLayer.show);domainSettingLayer.init(C)}else{var C=s(z);domainSettingLayer.init(C)}d()}function r(){document.body.style.overflow="";h.find("#blogDomainRegisterSuggestionLayer").hide()}function f(){document.body.style.overflow="hidden";h.find("#blogDomainRegisterSuggestionLayer").show()}function k(){domainSettingLayer.show()}function g(z,A,B){return{apiUrl:{personalThemeUpdateUrl:z.apiUrl.personalThemeUpdateUrl,personalThemeListUrl:z.apiUrl.personalThemeListUrl,blogInfoUrl:z.apiUrl.blogInfoUrl},$base:h,backFn:B,nextStepFn:A,closeFn:z.closeFn,personalThemeTemplate:e("#personalThemeTemplate",(z.win||window).document),alertFn:b}}function o(z,A){return{apiUrl:{recommendBlogByPersonalThemeListUrl:z.apiUrl.recommendBlogByPersonalThemeListUrl,recommendBlogAddBuddyUrl:z.apiUrl.recommendBlogAddBuddyUrl,recommendBlogRemoveBuddyUrl:z.apiUrl.recommendBlogRemoveBuddyUrl},$base:h,$location:(z.win||window).location,backFn:A,blogTemplate:e("#blogDomainRegisterPopularBlogTemplate",(z.win||window).document),postTemplate:e("#blogDomainRegisterPopularBlogPostTemplate",(z.win||window).document),blogUrl:z.blogUrl,alertFn:b}}function p(z,A,B){return{apiUrl:{profileDefaultImageUrl:z.apiUrl.profileDefaultImageUrl,blogBasicInfoUpdateUrl:z.apiUrl.blogBasicInfoUpdateUrl,profileImageUploadUrl:z.apiUrl.profileImageUploadUrl,profileImageUploadFromUrlUrl:z.apiUrl.profileImageUploadFromUrlUrl,blogInfoUrl:z.apiUrl.blogInfoUrl,},confirmBtnValue:z.confirmBtnValue,title:z.title,isChangeLayer:z.isChangeLayer,$base:h,nextStepFn:A,backFn:B,closeFn:z.closeFn,alertFn:b,alertCallBackFn:i}}function s(z,A){return{apiUrl:{duplicateCheckUrl:z.apiUrl.duplicateCheckUrl,blogDomainRegisterUrl:z.apiUrl.blogDomainRegisterUrl,recommendDomainListUrl:z.apiUrl.recommendDomainListUrl},confirmBtnValue:z.confirmBtnValue,title:z.title,isChangeLayer:z.isChangeLayer,isLightVersion:z.isLightVersion,isNonDirectRegister:z.isNonDirectRegister,clickCodePrefix:m,callbackFn:z.callbackFn,closeFn:z.closeFn,$base:h,nextStepFn:A,alertFn:b,naverId:z.naverId,resetFn:z.resetFn,alertCallBackFn:i}}function b(A,z){if(z){t=m+z}h.find("#alertMessage").html(A);h.find("#alertLayer").show()}function i(B,z,A){if(z){t=m+z}h.find("#alertMessageCallBack").html(B);h.find("#alertLayeCallBack").show();h.find("#closeAlertLayerCallBack").off("click").on("click",function(){if(t){nclk_v2(this,t,"","")}h.find("#alertLayeCallBack").hide();if(!A){return}A()})}function d(){h.find("#blogDomainRegisterStartBtn").off("click").on("click",u);h.find("#blogDomainRegisterSuggestionLayerCloseBtn").off("click").on("click",r);h.find("#closeAlertLayer").off("click").on("click",w);h.find("#sellerAlertLayerClose").off("click").on("click",v);if(n){n.off("click").on("click",l)}}function c(){h.find("#sellerAlertLayer").show()}function v(z){nclk_v2(z,m+"alertmrk","","");h.find("#sellerAlertLayer").hide()}function l(z){if(x==="true"){c();return}k()}function u(z){r();k()}function w(){if(t){nclk_v2(this,t,"","")}h.find("#alertLayer").hide()}function j(z,A){z.html("");z.append(A.html())}function a(z){domainSettingLayer.reCheck(z)}return{init:function(z){q(z)},show:function(){k()},showSuggestionLayer:function(){f()},reCheck:function(z){a(z)},alertMessage:b,sellerAlert:c,registerBtnClick:function(z){l(z)}}})(jQuery);domainSettingLayer=(function(G){var E=false;var r,A,d,U,f,Y,P,D,y,i,U,e,q,J,ac,M,N;var C;function W(ag){C=ag.$base;d=ag.apiUrl;E=ag.isLightVersion;P=ag.isNonDirectRegister;y=ag.clickCodePrefix;D=ag.isChangeLayer;if(D==true){i=K}else{C.find(".blogDomainChangeOnlyViewDesc").hide();i=j}if(C.find("#domainRegisterBtn")[0]){C.find("#domainRegisterBtn")[0].value=ag.confirmBtnValue}C.find("#blogDomainTitle").html(ag.title);Y=h();F();M=ag.alertFn;U=ag.callbackFn;e=ag.closeFn;f=ag.nextStepFn;ac=ag.resetFn;N=ag.alertCallBackFn;l();var ah=bodymovin.loadAnimation({container:document.getElementById("loading_icon"),renderer:"svg",loop:true,autoplay:true,path:"/common/json/lottie/inputTextLoading.json"});q=ag.naverId||"";J=q}function K(){if(P==true){U(c());x();O()}else{G.ajax({method:"GET",url:d.duplicateCheckUrl+"?domainId="+c(),}).done(function(ah){try{if(ah.result&&ah.result===true){X(c());return}N("사용할 수 없는 아이디입니다.","okokerrid",function(){x();v(c());p()});return}catch(ag){return false}})}}function L(){if(typeof readOnlyStatus!=="undefined"&&typeof readOnlyLinkErrorMsg!=="undefined"&&readOnlyStatus){alert(readOnlyLinkErrorMsg);return}t()}function u(){Y.domainWelcomeLayerEl.hide()}function h(){return{baseWrapperDiv:C,domainInputWel:C.find("#domainInputLayer"),domainInputEl:C.find("#domainInput"),recommendIdEl:C.find("#recommendDomainIdDiv"),domainRegisterBtn:C.find("#domainRegisterBtn"),messageEl:C.find("#domainMessage"),clearDomainInputBtnWEl:C.find("#clearDomainInputBtn"),blogIdMessageWrapEl:C.find("#blogidMessageWrap"),domainIdInfoEl:C.find("#domainIdInfo"),domainWelcomeLayerEl:C.find("#domainWelcomeLayer"),loadingIconEl:C.find("#loading_icon"),welcomeBlogIdEl:C.find("#welcomeBlogId"),welcomeBlogURLEl:C.find("#welcomeBlogURL"),domainConfirmLayerEl:D?C.find("#domainChangeConfirmLayer"):C.find("#domainConfirmLayer"),confirmDomainIdEl:D?C.find("#changeConfirmDomainId"):C.find("#confirmDomainId"),confirmDomainURLEl:D?C.find("#changeConfirmDomainURL"):C.find("#confirmDomainURL"),confirmCancleBtnEl:D?C.find("#changeConfirmCancleBtn"):C.find("#confirmCancleBtn"),confirmSubmitBtnEl:D?C.find("#changeConfirmSubmitBtn"):C.find("#confirmSubmitBtn")}}function F(){Y.domainInputEl.off("keyup").on("keyup",p);Y.domainRegisterBtn.off("click").on("click",T);Y.confirmCancleBtnEl.off("click").on("click",m);Y.confirmSubmitBtnEl.off("click").on("click",I);C.find("#recommendDomainIdDiv").off("click").on("click",ab);C.find("#clearDomainInputBtn").off("click").on("click",a);C.find("#blogDomainRegisterCancelBtn").off("click").on("click",aa);C.find("#closeWelcomeLayer").off("click").on("click",B);C.find("#nextStep").off("click").on("click",b)}function m(ag){nclk_v2(ag,y+"okccl","","");x()}function I(ag){nclk_v2(ag,y+"okok","","");J=c();i()}function b(){u();f()}function T(ag){nclk_v2(ag,y+"ok","","");w(c());Y.domainConfirmLayerEl.show()}function x(){Y.domainConfirmLayerEl.hide()}function O(){document.body.style.overflow="";Y.domainInputWel.hide()}function j(){G.ajax({method:"GET",url:d.duplicateCheckUrl+"?domainId="+c(),}).done(function(ai){try{x();if(ai.result&&ai.result===true){X(c()).done(function(){O()});return}var ag=E?"okokerrid":"okerrid";N("사용할 수 없는 아이디입니다.",ag,function(){v(c());p()},null,{buttonName:"확인"});return}catch(ah){return false}}).fail(function(){x();M("네트워크 연결을 확인해주세요.");return})}function V(ag){A=ag;if(f){Z();return}if(U){U(c())}}function Z(){Y.welcomeBlogIdEl.html(A);Y.welcomeBlogURLEl.html("blog.naver.com/"+A);Y.domainWelcomeLayerEl.show()}function B(){location.reload()}function a(ag){nclk_v2(ag,y+"delete","","");S();Y.domainInputEl.focus()}function S(){v("");k("");Q(true);p()}function Q(ah,ag){if(ah){Y.blogIdMessageWrapEl.removeClass("error");Y.blogIdMessageWrapEl.removeClass("success");return}if(ag){Y.blogIdMessageWrapEl.removeClass("error");if(!Y.blogIdMessageWrapEl.hasClass("success")){Y.blogIdMessageWrapEl.addClass("success")}}else{Y.blogIdMessageWrapEl.removeClass("success");if(!Y.blogIdMessageWrapEl.hasClass("error")){Y.blogIdMessageWrapEl.addClass("error")}}}function o(ag){Y.domainRegisterBtn.attr("disabled",ag)}function t(){document.body.style.overflow="hidden";v(J);k(J);ad(J);Y.domainInputWel.show();Y.domainInputEl.focus()}function aa(ag){document.body.style.overflow="";nclk_v2(ag,y+"ccl","","");if(E&&e){e();return}Y.domainInputWel.hide();S();J=q;if(ac){ac()}}function ad(ag){if(ag.length==0){Y.clearDomainInputBtnWEl.hide()}else{Y.clearDomainInputBtnWEl.show()}}function p(){o(true);H("");ae("");if(r){clearTimeout(r)}r=setTimeout(function(){k(c());if(q===c()&&c().length>0){Q(true,false);return}s();af(c());ad(c())},500)}function R(ag){if(ag.length<5||ag.length>20){return true}return false}function z(ah){var ag=/^[a-z0-9_-]*$/;if(!ag.test(ah)){return true}return false}function af(ag){if(ag.length==0){l();return}if(z(ag)){Q(false,false);H("영문 소문자, 숫자, -, _만 사용할 수 있어요.");l();return}if(R(ag)){Q(false,false);H("5 - 20자 이내로 입력할 수 있어요.");l();return}G.ajax({method:"GET",url:d.duplicateCheckUrl+"?domainId="+ag,}).done(function(ai){try{l();if(ai.code){Q(false,false);H(ai.message)}else{H();if(ai.result===false){n(ag)}else{Q(false,true);H("짝짝짝! 이 아이디를 사용할 수 있어요.");o(false)}}}catch(ah){return false}}).fail(function(){Q(false,false);H("네트워크 연결을 확인해주세요.");return})}function X(ag){return G.ajax({method:"POST",url:d.blogDomainRegisterUrl,data:{domainId:ag,naverId:window.userNaverId}}).done(function(aj){try{if(aj.code&&aj.message){var ah="okerrid";if(aj.code=="error"){ah="okerr"}if(aj.code=="nopermission"){M("로그인 정보를 확인해 주세요.","oklogerr");return}M(aj.message,ah);return}V(ag)}catch(ai){return false}}).fail(function(){M("네트워크 연결을 확인해주세요.");return})}function n(ag){G.ajax({method:"GET",url:d.recommendDomainListUrl+"?domainId="+ag,}).done(function(ai){try{if(ai.code&&ai.message){return}g(ai.result)}catch(ah){return false}}).fail(function(){H("네트워크 연결을 확인해주세요.");return})}function g(ah){if(!Array.isArray(ah)){return}var ag="";ah.forEach(function(ai){ag+='<li class="item"><button type="button" class="btn _recommendIdClass">'+ai+"</button></li>"});ae(ag);Q(false,false);if(ah.length>0){H("사용할 수 없어요. 추천해드린 아이디는 어떠세요?")}else{H("사용할 수 없어요.")}}function ab(ag){nclk_v2(ag,y+"recommend","","");var ah=G(ag.target);if(!ah.hasClass("_recommendIdClass")){return}v(ah.html());p()}function w(ag){Y.confirmDomainIdEl.html(ag);Y.confirmDomainURLEl.html("blog.naver.com/"+ag)}function c(){return Y.domainInputEl.val()}function v(ag){Y.domainInputEl.val(ag)}function H(ag){Y.messageEl.html(ag)}function ae(ag){Y.recommendIdEl.html(ag)}function s(){Y.loadingIconEl.show()}function l(){Y.loadingIconEl.hide()}function k(ag){if(ag==""){ag="블로그아이디"}Y.domainIdInfoEl.html(ag)}return{init:function(ag){W(ag)},show:function(){L()},reCheck:function(ag){L();v(ag);p()},showWelcomeLayer:function(){Z()},}})(jQuery);blogInfoLayer=(function(R){var Q;var i,X,u,ae,f,h,Y;var N;var I;function ac(ai){N=ai.$base;Q={};f=ai.apiUrl;ae=l();i=ai.nextStepFn;X=ai.alertFn;u=ai.backFn;P();h=ai.closeFn;Y=ai.alertCallBackFn;I={}}function l(){return{openBlogBasicInfoEl:N.find("#openBlogBasicInfo"),blogBasicInfoLayerEl:N.find("#blogBasicInfoLayer"),toggleBlogThemeListEl:N.find("#showBlogThemeList"),basicInfoBlogThemeListEl:N.find("#basicInfoBlogThemeList"),profileSetLayerEl:N.find("#profileSetLayer"),profileUploadBtn:N.find("#profile_upload_btn"),profileUploadBtnForIE:document.getElementById("profile_upload_btn"),profileImageEl:N.find("#blogDomainProfileImage"),profilePresetListEL:N.find("#profilePresetList"),nickNameEl:N.find("#nickname"),blogNameEl:N.find("#blogname")}}function P(){ae.toggleBlogThemeListEl.off("click").on("click",t);ae.basicInfoBlogThemeListEl.off("click").on("click",g);if(q()){ae.profileUploadBtnForIE.addEventListener("change",A)}else{ae.profileUploadBtn.off("change").on("change",A)}ae.blogBasicInfoLayerEl.off("click").on("click",n);ae.nickNameEl.off("keyup").on("keyup",m);ae.blogNameEl.off("keyup").on("keyup",M);ae.profilePresetListEL.off("click").on("click",W);N.find("#submitBlogBasicInfo").off("click").on("click",b);N.find("#profileSetBtn").off("click").on("click",d);N.find("#profileImageClear").off("click").on("click",Z);N.find("#proflieImageCancelBtn").off("click").on("click",j);N.find("#proflieImageSelectedBtn").off("click").on("click",ah);N.find("#closeBlogBasicInfoLayer").off("click").on("click",k);N.find("#blogBasicInfoBackBtn").off("click").on("click",B)}function B(){O();u()}function O(){ae.blogBasicInfoLayerEl.hide()}function n(ai){if(ai.target.id=="showBlogThemeList"){return}w()}function t(){if(s()){return}if(ae.basicInfoBlogThemeListEl.hasClass("is_show")){w()}else{ae.toggleBlogThemeListEl.addClass("is_show");ae.basicInfoBlogThemeListEl.addClass("is_show");E()}}function E(){var aj=ae.basicInfoBlogThemeListEl.find("strong").first().outerHeight();var ao=ae.basicInfoBlogThemeListEl.find("li").first().outerHeight();var al=ae.basicInfoBlogThemeListEl.find("input[type=radio]:checked");if(al.length>0){var ak=0;R.each(al.closest("ul").prevAll("ul"),function(ap,aq){ak+=R(aq).find("li").length});ak+=al.closest("li").prevAll().length;var ai=ao*ak;var an=al.closest("ul").prevAll("strong").length;var am=aj*an;document.getElementById("basicInfoBlogThemeList").scrollTo(0,am+ai)}else{document.getElementById("basicInfoBlogThemeList").scrollTo(0,0)}}function w(){ae.toggleBlogThemeListEl.removeClass("is_show");ae.basicInfoBlogThemeListEl.removeClass("is_show")}function ah(){e(I.profileImageUrl,I.profileImageSize,I.profileImagePath);ae.profileSetLayerEl.removeClass("is_show")}function r(ai,aj,ak){I.profileImageUrl=ai;I.profileImageSize=aj;I.profileImagePath=ak}function e(ai,aj,ak){Q.profileImageUrl=ai;Q.profileImageSize=aj;Q.profileImagePath=ak}function x(){var ai;if(Q.profileImageSize=="naver"||Q.profileImageSize=="default"||Q.profileImageUrl.indexOf("?type=s2")>-1){ai=Q.profileImageUrl}else{ai=Q.profileImageUrl+"?type=s2"}H(ai);ag(Q.profileImageUrl)}function j(){x();r(Q.profileImageUrl,Q.profileImageSize,Q.profileImagePath);e(Q.profileImageUrl,Q.profileImageSize,Q.profileImagePath);ae.profileSetLayerEl.removeClass("is_show")}function Z(){K()}function o(){R.ajax({async:false,method:"GET",url:f.profileDefaultImageUrl}).done(function(aj){try{if(aj.imageUrl){p(aj.imageUrl);r(aj.imageUrl,"naver","naver");e(aj.imageUrl,"naver","naver")}}catch(ai){return false}})}function K(){R.ajax({async:false,method:"GET",url:f.profileDefaultImageUrl}).done(function(aj){try{if(aj.defaultImageUrl){p(aj.defaultImageUrl);r(aj.defaultImageUrl,"default","default")}}catch(ai){return false}})}function F(){R.ajax({async:false,method:"GET",url:f.blogInfoUrl,cache:false}).done(function(ak){try{var ai=ak.nickName?ak.nickName:ak.blogId;ae.blogBasicInfoLayerEl.find("#nickname").val(ai);ae.blogBasicInfoLayerEl.find("#blogname").val(ak.blogName);if(ak.profileImageUrl==""){o();e(I.profileImageUrl,I.profileImageSize,I.profileImagePath)}else{p(ak.profileImageUrl);r(ak.profileImageUrl,ak.profileImageSize,ak.profileImagePath);e(ak.profileImageUrl,ak.profileImageSize,ak.profileImagePath)}if(ai.indexOf("-")>0||ai.indexOf("_")>0){Y("특수문자가 있습니다. 확인해주세요.",null,function(){ae.nickNameEl.val(ai.replace(/[-_]/gi,""));ae.nickNameEl.focus()})}}catch(aj){return false}})}function A(){var aj=J();if(aj.length<1){return}file=aj[0];var ai=ad(file.name);if(["jpg","jpeg","png","bmp","gif"].indexOf(ai)<0){X("이미지만 업로드할 수 있어요. (jpg, jpeg, png, bmp, gif)");S();return}if((file.size/(1024*1024))>10){X("첨부가능한 파일 용량을 초과하였습니다. 10MB 이하의 파일을 올려주세요.");S();return}if(file.name.indexOf("%")>=0){X("파일명에 '%'문자를 포함할 수 없습니다. 파일명을 변경하신후 다시 올려주세요.");S();return}T(file)}function ad(aj){var ai=aj.lastIndexOf(".");if(ai<0){return null}else{return aj.substring(ai+1).toLowerCase()}}function J(){if(q()){return ae.profileUploadBtnForIE.files}else{return ae.profileUploadBtn.prop("files")}}function S(){if(q()){ae.profileUploadBtnForIE.value=null}else{ae.profileUploadBtn.prop("value",null)}}function q(){return/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)}function W(aj){var al=R(aj.target);var ai=q()?"button":"img";if(al.prop("tagName").toLowerCase()!=ai){return}var ak=q()?al.find("img").prop("src"):al.prop("src");G(ak)}function d(){if(ae.profileSetLayerEl.hasClass("is_show")){ae.profileSetLayerEl.removeClass("is_show")}else{ae.profileSetLayerEl.addClass("is_show");w()}}function m(){var ai=ae.nickNameEl.val();if(U(ai)>20){ae.nickNameEl.blur();Y("별명은 한글10(영문/숫자20)자 이내로 넣어주세요.",null,function(){ae.nickNameEl.val(ai.substring(0,ai.length-1));ae.nickNameEl.focus()});return}if(!c(ai)){ae.nickNameEl.blur();Y("특수문자가 있습니다. 확인해주세요.",null,function(){ae.nickNameEl.val(ai.substring(0,ai.length-1));ae.nickNameEl.focus()});return}}function v(){var ai=ae.nickNameEl.val();if(U(ai)>20){Y("별명은 한글10(영문/숫자20)자 이내로 넣어주세요.",null,function(){ae.nickNameEl.focus()});return false}if(!c(ai)){Y("한글, 영문, 숫자만 사용할 수 있어요.",null,function(){var ak="";var al="~`!@#$%^&*()-_=+|<>?,./;:\"'\\[]{}";var aj;for(aj=0;aj<ai.length;aj++){if(al.indexOf(ai.substring(aj,aj+1))>-1){continue}else{ak+=ai.substring(aj,aj+1)}}ae.nickNameEl.val(ak);ae.nickNameEl.focus()});return false}Q.nickName=ai;return true}function M(){var ai=ae.blogNameEl.val();if(U(ai)>50){ae.blogNameEl.blur();Y("블로그명은 한글25(영문50)자 까지 가능합니다.",null,function(){ae.blogNameEl.val(ai.substring(0,ai.length-1));ae.blogNameEl.focus()});return false}return true}function V(){var ai=ae.blogBasicInfoLayerEl.find("#blogname").val();if(U(ai)>50){Y("블로그명은 한글25(영문50)자 까지 가능합니다.",null,function(){ae.blogNameEl.focus()});return false}Q.blogName=ai;return true}function D(){if(Q.blogTheme==undefined){Q.blogTheme="0"}return true}function U(ai){var ak=0;for(var aj=0;aj<ai.length;aj++){if(ai.charCodeAt(aj)<127){ak++}else{ak=ak+2}}return ak}function L(ai){if(ai.split(" ").join("")==""){return true}for(var aj=0;aj<ai.length;aj++){aChar=ai.charCodeAt(aj);if(aChar!=32&&aChar!=12288){return false}}return true}function c(ai){var ak="~`!@#$%^&*()-_=+|<>?,./;:\"'\\[]{}";var aj;for(aj=0;aj<ai.length;aj++){if(ak.indexOf(ai.substring(aj,aj+1))>-1){break}}if(aj!=ai.length){return false}else{return true}return false}function C(){if(Q.profileImagePath=="naver"||Q.profileImagePath=="default"){return false}if(Q.profileImagePath==undefined||Q.profileImagePath==null){return false}return true}function aa(ai){url=ae.profileImageEl.prop("data-url");z(url,ai)}function y(){var am=Q.nickName;var aj=Q.blogName;var al=Q.blogTheme;var ak=Q.profileImagePath;var ai=Q.profileImageSize;R.ajax({method:"POST",url:f.blogBasicInfoUpdateUrl,data:{nickName:am,blogName:aj,profileUrl:ak,blogTheme:al,imageSize:ai}}).done(function(ao){try{if(ao.code&&ao.message){return}ae.blogBasicInfoLayerEl.hide();i()}catch(an){return false}}).fail(function(){X("네트워크 연결을 확인해주세요.");return})}function p(ai){H(ai);ag(ai)}function H(ai){if(q()){ae.profileImageEl.css("background-image",'url("'+ai+'");')}else{ae.profileImageEl.prop("style",'background-image: url("'+ai+'");')}ae.profileImageEl.prop("data-url",ai)}function ag(ak){var ai=ae.profilePresetListEL.find("button");ai.removeClass("is_selected");if(!ak){return}if(ak.indexOf("img_profile_preset_")<0){return}var aj=ab(ak);ai.each(function(ao,ap){var am=R(ap);var an=am.find("img").attr("src");var al=ab(an);if(al===aj){am.addClass("is_selected");return false}})}function ab(ai){if(!ai){return""}var aj=ai.substring(ai.lastIndexOf("/")+1,ai.length-1);return aj.substring(0,aj.lastIndexOf("."))}function T(ai){var aj=new FormData();aj.append("file1",ai);R.ajax({method:"POST",url:f.profileImageUploadUrl,enctype:"multipart/form-data",processData:false,contentType:false,cache:false,data:aj}).done(function(al){try{if(al.url){r(al.url,al.size,al.path);p(al.url)}}catch(ak){return false}}).fail(function(ak){X("네트워크 연결을 확인해주세요.");return})}function z(aj,ai){R.ajax({async:false,method:"POST",url:f.profileImageUploadFromUrlUrl,data:{fileUrl:aj}}).done(function(al){try{if(al.url){e(al.url,al.size,al.path);p(al.url)}if(ai){ai()}}catch(ak){return false}}).fail(function(){X("네트워크 연결을 확인해주세요.");return})}function G(aj,ai){R.ajax({async:false,method:"POST",url:f.profileImageUploadFromUrlUrl,data:{fileUrl:aj}}).done(function(al){try{if(al.url){p(al.url);r(al.url,al.size,al.path)}if(ai){ai()}}catch(ak){return false}}).fail(function(){X("네트워크 연결을 확인해주세요.");return})}function b(){if(s()){return}if(!v()){return}if(!V()){return}if(!D()){return}if(!C()){aa(y);return}y()}function g(ai){var aj=R(ai.target);if(!aj.hasClass("label")){return}if(aj.prev().val()==="on"){ae.toggleBlogThemeListEl.html(aj.html());Q.blogTheme=aj.prev().attr("data-directoryseq");ae.toggleBlogThemeListEl.addClass("is_selected")}t()}function af(){F();ae.blogBasicInfoLayerEl.show()}function k(){if(s()){return}document.body.style.overflow="";a(ae.blogBasicInfoLayerEl)}function a(ai){if(h){h();return}ai.hide()}function s(){return ae.profileSetLayerEl.hasClass("is_show")}return{init:function(ai){ac(ai)},show:function(){af()}}})(jQuery);recommendBlogLayer=(function(d){var a,g,m,p,c,f,y;var n;function t(A){n=A.$base;a=A.blogTemplate;g=A.postTemplate;m=A.apiUrl;p=j();b();c=A.backFn;f=A.blogUrl||"https://blog.naver.com";y=A.alertFn}function j(){return{recommendBlogLayerEl:n.find("#recommendBlogLayer"),recommendBlogListEl:n.find("#recommendBlogList"),recommandBlogListLoadingWrap:n.find("#recommendBlogList_loading_wrap")}}function b(){n.find("#recommendBackBtn").off("click").on("click",k);n.find("#startBlogBtn").off("click").on("click",o);n.find("#recommendBlogList").off("click").on("click",h)}function h(B){var C=d(B.target);if(C.hasClass("_recommendBuddyAdd")){var A=C.attr("data-domainidorblogid");l(A,C);nclk_v2(B,"bsu*r.add","","")}if(C.hasClass("_recommendBuddyRemove")){var A=C.attr("data-domainidorblogid");u(A,C);nclk_v2(B,"bsu*r.addccl","","")}}function u(A,B){var A=A;var B=B;d.ajax({method:"POST",url:m.recommendBlogRemoveBuddyUrl,data:{buddyId:A}}).done(function(C){if(C.isSuccess){B.hide();B.parent().find("._recommendBuddyAdd").show()}}).fail(function(){y("네트워크 연결을 확인해주세요.");return})}function l(A,B){var A=A;var B=B;d.ajax({method:"POST",url:m.recommendBlogAddBuddyUrl,data:{buddyId:A}}).done(function(C){if(C.isSuccess){B.hide();B.parent().find("._recommendBuddyRemove").show()}}).fail(function(){y("네트워크 연결을 확인해주세요.");return})}function o(){if(parent==window){location.href=f+"/MyBlog.naver"}else{parent.location.href=f+"/MyBlog.naver"}}function x(){p.recommendBlogLayerEl.show()}function z(){p.recommendBlogLayerEl.hide()}function e(){p.recommandBlogListLoadingWrap.removeClass("is_hide")}function s(){p.recommandBlogListLoadingWrap.addClass("is_hide")}function r(A){p.recommendBlogListEl.html(A);s()}function k(){r("");z();c()}function w(){x();e();d.ajax({method:"GET",url:m.recommendBlogByPersonalThemeListUrl}).done(function(B){var A=i(B);r(A)})}function q(A,B){return d("<div/>").loadTemplate(A,B).html()}function v(C,D,B){var A=d("<div/>").loadTemplate(C,D);B(A);return A.html()}function i(B){var A="";B.forEach(function(D){var E="";D.postViewList.forEach(function(F){var G=v(g,F,function(H){if(!F.mainThumbnailUrl){H.find(".img_area").remove()}else{H.find(".desc").remove()}});E+=G});var C={profileImage:D.profileImage==""?"https://ssl.pstatic.net/static/blog/no_profile.svg":D.profileImage,nickName:D.nickName,blogName:D.blogName,themeName:D.themeName,domainIdOrBlogId:D.domainIdOrBlogId,postList:E,buddyAddDisplayStyle:D.isBuddy?"display:none":"display:block",buddyDisplayStyle:D.isBuddy?"display:block":"display:none"};A+=q(a,C)});return A}return{init:function(B,A){t(B,A)},show:function(){w()}}})(jQuery);personalThemeLayer=(function(e){var x,n,d,l,j,f,z;var k;var p=[{themeName:"일상·생각",directorySeq:14,clickCode:"bsu*t.option1"},{themeName:"비즈니스·경제",directorySeq:33,clickCode:"bsu*t.option2"},{themeName:"맛집",directorySeq:29,clickCode:"bsu*t.option3"},{themeName:"건강·의학",directorySeq:32,clickCode:"bsu*t.option4"},{themeName:"패션·미용",directorySeq:18,clickCode:"bsu*t.option5"},{themeName:"상품리뷰",directorySeq:21,clickCode:"bsu*t.option6"},{themeName:"교육·학문",directorySeq:34,clickCode:"bsu*t.option7"},{themeName:"문학·책",directorySeq:5,clickCode:"bsu*t.option8"},{themeName:"육아·결혼",directorySeq:15,clickCode:"bsu*t.option9"},{themeName:"인테리어·DIY",directorySeq:19,clickCode:"bsu*t.option10"},{themeName:"국내여행",directorySeq:27,clickCode:"bsu*t.option11"},{themeName:"취미",directorySeq:26,clickCode:"bsu*t.option12"},{themeName:"스타·연예인",directorySeq:12,clickCode:"bsu*t.option13"},{themeName:"자동차",directorySeq:25,clickCode:"bsu*t.option14"},{themeName:"IT·컴퓨터",directorySeq:30,clickCode:"bsu*t.option15"}];var A=[{themeName:"사회·정치",directorySeq:31,clickCode:"bsu*t.option27"},{themeName:"요리·레시피",directorySeq:20,clickCode:"bsu*t.option30"},{themeName:"스포츠",directorySeq:23,clickCode:"bsu*t.option17"},{themeName:"반려동물",directorySeq:16,clickCode:"bsu*t.option19"},{themeName:"음악",directorySeq:11,clickCode:"bsu*t.option32"},{themeName:"좋은글·이미지",directorySeq:17,clickCode:"bsu*t.option26"},{themeName:"사진",directorySeq:24,clickCode:"bsu*t.option20"},{themeName:"어학·외국어",directorySeq:35,clickCode:"bsu*t.option16"},{themeName:"미술·디자인",directorySeq:8,clickCode:"bsu*t.option24"},{themeName:"게임",directorySeq:22,clickCode:"bsu*t.option31"},{themeName:"영화",directorySeq:6,clickCode:"bsu*t.option21"},{themeName:"만화·애니",directorySeq:13,clickCode:"bsu*t.option29"},{themeName:"세계여행",directorySeq:28,clickCode:"bsu*t.option23"},{themeName:"방송",directorySeq:10,clickCode:"bsu*t.option18"},{themeName:"원예·재배",directorySeq:36,clickCode:"bsu*t.option28"},{themeName:"공연·전시",directorySeq:7,clickCode:"bsu*t.option25"},{themeName:"드라마",directorySeq:9,clickCode:"bsu*t.option22"}];function s(B){k=B.$base;n=B.nextStepFn;j=B.apiUrl;x=B.alertFn;d=B.backFn;z=B.personalThemeTemplate;l=g();b(A);t();c();f=B.closeFn}function b(B){for(var E=B.length-1;E>0;E--){var D=Math.floor(Math.random()*(E+1));var C=B[E];B[E]=B[D];B[D]=C}}function t(){var B="";B+=m(p);B+=m(A);l.personalThemeListEl.html(B)}function m(B){var C;B.forEach(function(D){D.id="recommend"+D.directorySeq;C+=e("<div/>").loadTemplate(z,D).html()});return C}function q(){l.personalThemeListEl.find("input:checked").each(function(B,C){e(C).prop("checked",false)});e.when(o(),y()).done(function(G,E){G=G[0];E=E[0];try{if(!G.code||!G.message){var B=G;for(var C=0;C<B.length;C++){var D=l.personalThemeListEl.find("#recommend"+B[C]);e(D).prop("checked",true)}}if(l.personalThemeListEl.find("input:checked").length>0){return}if(!E.code||!E.message){var D=l.personalThemeListEl.find("#recommend"+E.subjectSeq);e(D).prop("checked",true)}}catch(F){return false}});l.personalThemeLayerEl.show()}function w(){l.personalThemeLayerEl.show()}function o(){return e.ajax({method:"POST",url:j.personalThemeListUrl})}function y(){return e.ajax({method:"GET",url:j.blogInfoUrl,})}function u(){l.personalThemeLayerEl.hide()}function g(){return{personalThemeLayerEl:k.find("#personalThemeLayer"),personalThemeListEl:k.find("#personalThemeList")}}function c(){k.find("#personalThemeList").off("click").on("click",a);k.find("#personalThemeSelectCancel").off("click").on("click",v);k.find("#personalThemeSubmitBtn").off("click").on("click",r);k.find("#personalThemeBackBtn").off("click").on("click",h)}function h(){u();l.personalThemeListEl.find("input:checked").each(function(B,C){e(C).prop("checked",false)});d()}function r(){var B=[];l.personalThemeListEl.find("input:checked").each(function(D,E){B.push(e(E).next().attr("data-directoryseq"))});var C=B.join(":");e.ajax({method:"POST",url:j.personalThemeUpdateUrl,data:{personalThemeList:C}}).done(function(E){try{if(E.code&&E.message){return}u();n()}catch(D){return false}}).fail(function(){x("네트워크 연결을 확인해주세요.");return})}function v(){document.body.style.overflow="";i(l.personalThemeLayerEl)}function i(B){if(f){f();return}B.hide()}function a(C){var E=e(C.target);if(!E.hasClass("label")){return}var B=e(C.target).attr("data-clickcode");nclk_v2(C,B,"","");var D=false;l.personalThemeListEl.find("input:checked").each(function(F,G){if(C.target===e(G).next()[0]){D=true}});if(D){return}if(l.personalThemeListEl.find("input:checked").length>=10){x("주제는 10개까지 선택이 가능합니다.");return false}}return{init:function(B){s(B)},show:function(){q()},showWithoutFetch:function(){w()}}})(jQuery);(function(d){var g=function(s,l,o,q,n,p,m){a(s,l,o,q,p,m)};var i=d.ccsrv||"cc.naver.com";var h=d.nsc||"decide.me";var b={};var e=d.g_allowedOrigin||"";var k={};g.vs="0.8.1";g.md="cc";g.pt="https:";g.ec=encodeURIComponent;g.st=1;g.ua={};if(self!==parent&&!!e){parent.postMessage("getLCSInfo",e);window.addEventListener("message",function(l){if(l.origin!==e){return}k=JSON.parse(l.data)},false)}(function c(){try{if(typeof navigator==="undefined"||!navigator||!navigator.userAgentData){return false}var q=navigator.userAgentData;var n=q.uaList||q.brands;var m=["architecture","model","platform","platformVersion","uaFullVersion","fullVersionList"];var l=function(s,r){return Object.prototype.toString.call(s).slice(8,-1).toLowerCase()===r.toLowerCase()};var p=function(v,u){var u=u?u+"_":"";if(!l(v,"array")){return}for(var t=0,r=v.length;t<r;t++){if(!l(v[t],"object")){continue}for(var s in v[t]){g.ua[u+s+"_"+t]=v[t][s]||""}}};g.ua.mobile=q.mobile;p(n);navigator.userAgentData.getHighEntropyValues(m).then(function(s){for(var r in m){var t=m[r];if(t=="fullVersionList"){p(s[t],"full")}else{g.ua[t]=s[t]||""}}})}catch(o){console.warn(o)}})();function f(t,m,p,s,n,q){var l=d.g_nclk_proxy||"";if(l&&t.href){t.href=l+g.ec(t.href)}return g(t,m,p,s,n,q)}function j(l){var m=l||{};if(!m.e||!m.a){return}b.g_ssc=m.g_ssc||"";b.g_query=m.g_query||"";b.g_sid=m.g_sid||"";b.g_pid=m.g_pid||"";b.g_lcsurl=m.g_lcsurl||"";b.g_lcssti=m.g_lcssti||"";a(m.e,m.a,m.i,m.r,m.g,m.pid);b={}}function a(x,z,t,n,v,u){var q,s,B,y;var A=x;var p=x;if("nodeType" in x&&x.nodeType>=1){A=window.event||x}else{if(x){var w=x.srcElement||x.currentTarget||x.target;if(w){p=g.findLink(w)}}}if(!v){v=""}y=g.gcp(p,A);B=g.gl(z,t,n,y,"",0,g.st,v,u);s=g.l(p,B);g.sd(s);return true}g.findLink=function(m){var l=m;while(l&&l.tagName!=="BODY"&&l.tagName!=="HTML"){if(l.tagName==="A"||!l.parentNode){break}l=l.parentNode}if(l.tagName!=="A"){l=m}return l};g.l=function(q,n){var m,r,p;if(q&&q.href&&q.getAttribute("href")){r=q.tagName.toLowerCase();p=q.href.toLowerCase();if(p&&p.indexOf(g.pt+"//"+i)==0){m=q.href}else{if(p&&p.indexOf(g.pt+"//"+i)!=0&&r&&r!="img"){m=n+"&u="+g.ec(q.href)}}return m}return n+"&u=about%3Ablank"};g.sendByBeacon=function(m){var n=m.split("?");navigator.sendBeacon(n[0],n[1])};g.sendByImage=function(m){var n=new Date().getTime();(new Image()).src=m+"&nt="+n};g.sd=!!navigator.sendBeacon?g.sendByBeacon:g.sendByImage;g.ggv=function(l){return b[l]||d[l]||""};g.gl=function(G,D,z,n,w,B,x,E,y){var v=g.ggv("g_ssc");var o=g.ggv("g_query");var q=g.ggv("g_pid");var H=g.ggv("g_sid");var I=g.ggv("g_lcsurl")||k.g_lcsurl||window.location.href;var A=g.ggv("g_lcssti")||k.g_lcssti||null;var t=d.lcs_get_lpid||k.lcs_get_lpid||null;if(B==undefined){B=1}if(x==undefined){x=1}var C=g.pt+"//"+i+"/"+g.md+"?a="+G+"&r="+z+"&i="+D+"&m="+B;if(x==1){if(v){C+="&ssc="+v}if(o){C+="&q="+g.ec(o)}if(H){C+="&s="+H}if(y){C+="&p="+y}else{if(q){C+="&p="+q}else{if(t){C+="&p="+(typeof t=="function"?t():t)}else{console.warn("'g_pid / lcs_get_lpid' is not exist.")}}}}else{C+="&nsc="+h;console.warn("[DEPRECATED] NSC mode")}if(E){C+="&g="+E}if(w){C+="&u="+g.ec(w)}if(I){C+="&lcsurl="+g.ec(I)}if(A){C+="&lcssti="+A}if(n){C+=n}var F,p;for(F in g.ua){p=g.ua[F];if(p){C+="&ua_"+F+"="+g.ec(p)}}return C};g.al=function(n,m){var l=window;if(l.addEventListener){l.addEventListener(n,m,false)}else{if(l.attachEvent){l.attachEvent("on"+n,m)}}};g.gsbw=function(){var n=document.createElement("p");n.style.width="200px";n.style.height="200px";var o=document.createElement("div");o.style.position="absolute";o.style.top="0px";o.style.left="0px";o.style.visibility="hidden";o.style.width="200px";o.style.height="150px";o.style.overflow="hidden";o.appendChild(n);document.body.appendChild(o);var m=n.offsetWidth;o.style.overflow="scroll";var l=n.offsetWidth;if(m==l){l=o.clientWidth}document.body.removeChild(o);return(m-l)};g.fp=function(m){var n=curtop=0;try{if(m.offsetParent){do{n+=m.offsetLeft;curtop+=m.offsetTop}while(m=m.offsetParent)}else{if(m.x||m.y){if(m.x){n+=m.x}if(m.y){curtop+=m.y}}}}catch(l){}return[n,curtop]};g.ws=function(n){if(!n){n=window}var l=0;if(n.innerWidth){l=n.innerWidth;if(typeof(n.innerWidth)=="number"){var m=g.gsbw();l=n.innerWidth-m}}else{if(document.documentElement&&document.documentElement.clientWidth){l=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){l=document.body.clientWidth}}}return l};g.ci=function(t){var q=document.URL;var s=t.parentNode;var m;var o;var n;if(s==null||s==undefined){return false}while(1){if(s.nodeName.toLowerCase()=="#document"){if(s.parentWindow){m=s.parentWindow}else{m=s.defaultView}try{if(m.frameElement!=null&&m.frameElement!=undefined){if(m.frameElement.nodeName.toLowerCase()=="iframe"){o=m.frameElement.id;if(!o){return false}return o}else{return false}}else{return false}}catch(r){return false}}else{s=s.parentNode;if(s==null||s==undefined){return false}}}};g.gcp=function(r,t){var v=-1;var u=-1;var x=-1;var w=-1;var n,m,p;var o="";var q=window.event?window.event:r;if(t){q=t||window.event}try{bw=g.ws(window);p=g.ci(r);if(p){var s=g.fp(document.getElementById(p));if(q.clientX&&q.clientX!=undefined){n=document.body;if(n.clientLeft&&n.clientTop){ifrSx=q.clientX-n.clientLeft;ifrSy=q.clientY-n.clientTop}else{ifrSx=q.clientX;ifrSy=q.clientY}}x=s[0]+ifrSx;w=s[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){n=document.body;v=x-n.scrollLeft;u=w-n.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){m=document.documentElement;v=x-m.scrollLeft;u=w-m.scrollTop}else{v=x;u=w}}}else{if(q.clientX&&q.clientX!=undefined){n=document.body;if(n.clientLeft&&n.clientTop){v=q.clientX-n.clientLeft;u=q.clientY-n.clientTop}else{v=q.clientX;u=q.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){x=document.body.scrollLeft+(v<0?0:v);w=document.body.scrollTop+(u<0?0:u)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){m=document.documentElement;if(m.scrollLeft!=undefined){x=m.scrollLeft+(v<0?0:v)}if(m.scrollTop!=undefined){w=m.scrollTop+(u<0?0:u)}}else{x=(v<0?0:v);w=(u<0?0:u)}}if(q.pageX){x=q.pageX}if(q.pageY){w=q.pageY}}}catch(t){}if((x!=-1)&&(w!=-1)){o+="&px="+x+"&py="+w}if((v!=-1)&&(u!=-1)){o+="&sx="+v+"&sy="+u}return o};d.nclk_proxy=f;d.nclk=g;d.nclk_v2=a;d.nclk_v2_with_obj=j})(window);if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["BlogDomainRegisterLayer-1009946846_js"]=true;
