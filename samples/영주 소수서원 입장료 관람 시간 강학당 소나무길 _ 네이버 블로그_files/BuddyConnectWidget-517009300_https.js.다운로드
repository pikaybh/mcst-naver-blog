var BuddyConnect=$Class({_elBottomBox:null,_elSubView:null,_elTabArea:null,_oList:null,_elContent:null,_htVisbleEl:{listArea:null,byMe:null,toMe:null},_sSelectedGroupId:"",sLoginId:"",sBlogId:"",sListType:"",sAuthCode:"",sWidgetSeq:"",sBlogUserNo:"",sBlogNo:"",bIsAritcleWidget:false,sTomeListType:"",oTidOverFade:null,oTidOutFade:null,sSectionDomain:"",_aTabClass:["tab1on","tab2on"],_MSG:{NEWARTICLE:"새글보기",NEWARTICLE_MORE:"새글 더 보기",CLOSEVISIBLEBUDDY:"비공개 하시겠습니까?",NOBODY:{GROUP:{ARTICLE:"선택하신 그룹에 등록된 <br> 이웃 새글이 없습니다.",BUDDY:"선택하신 그룹에 등록된 <br> 이웃이 없습니다."}}},htListType:{L:"basic",T:"thumb",D:"detail",P:"article"},$init:function(b){var a=b.elWidget;this.sLoginId=b.sLoginId;this.sBlogId=b.sBlogId;this.sAuthCode=b.sAuthCode;this.sWidgetSeq=b.sWidgetSeq;this.sBlogNo=b.sBlogNo;this.sBlogUserNo=b.sBlogUserNo;this.bIsAritcleWidget=b.bIsAritcleWidget;this.sTomeListType=this.bIsAritcleWidget?this.htListType.D:this.htListType[b.sWidgetType];this.sSectionDomain=b.sSectionDomain;this._elContent=b.elContent;this._elTabArea=b.elTabArea;this._elSubView=$$.getSingle("div.sub_view",this._elContent);this._elBottomBox=$$.getSingle("div.bottom_box",a);this.setListType(this.htListType[b.sWidgetType]);this._initVisibleEl();this._oList=new BuddyConnect.List(this);this._setEvt()},getListType:function(a){return this.htListType[a]},getIsAritcleWidget:function(){return this.bIsAritcleWidget},getSectionDomain:function(){return this.sSectionDomain},setListType:function(a){this.sListType=a;if(this._htVisbleEl.listArea instanceof $Element){this._htVisbleEl.listArea.hide()}this._htVisbleEl.listArea=$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sListType],this._elContent))},setAsyncURL:function(b){if(typeof b!="undefined"){for(var a in BuddyConnect.METADATA){BuddyConnect.METADATA[a]=b[a]}}},getSubView:function(){return this._elSubView},getListArea:function(){return this._htVisbleEl.listArea},_initVisibleEl:function(){this._htVisbleEl={listArea:null,byMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["byMe"],this._elContent)),toMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["toMe"],this._elContent)),noBody:{byMe:$Element($("noBody_byMe")),toMe:$Element($("noBody_toMe")),article:$Element($("noBody_article")),group:$Element($("noBody_group"))}}},_setEvt:function(){$Fn(this._onClickClickCr,this).attach(document,"click");$Fn(this._onClickTab,this).attach(this._elTabArea,"click");$Fn(this._onClickContent,this).attach(this._elContent,"click")},_onClickTab:function(d){d.stopDefault();var c=d.element;if(c.nodeType!=1||c.tagName.toLowerCase()!="li"){c=c.parentNode}var a=c.className;var b=$Element(c.parentNode);if((a=="col1"&&b.hasClass("tab1on"))||(a=="col2"&&b.hasClass("tab2on"))){return false}else{this.setPageNo(1)}switch(a){case"col1":this._activeTab("first");this._listContent(this._getAsyncListURL(this._getPageNo()));break;case"col2":this._activeTab("second");this._listContent(this._getAsyncListURL(this._getPageNo()));break;default:break}this._hideBuddyGroup();return false},_displayList:function(){this._hideNoBody();if(this.isFirstTab()){this._displayByMeList()}else{this._displayToMeList()}$Element(this.getSubView()).show()},_hideNoBody:function(){this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide();this._htVisbleEl.noBody["article"].hide();this._htVisbleEl.noBody["group"].hide()},_displayNoBodyList:function(e){var d=this.isFirstTab();var h=false;this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.hide();this._htVisbleEl.listArea.hide();this._htVisbleEl.noBody["group"].hide();$Element(this.getSubView()).hide();if(this.bIsAritcleWidget){this._hideArticleList()}if(e=="article"){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();h=parseInt($$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent).innerHTML,10)>0;if(h){this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["ARTICLE"])}else{this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"])}this._htVisbleEl.byMe.show();this._htVisbleEl.noBody["article"].hide()}else{this._htVisbleEl.noBody["article"].show();$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide();this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["article"].hide();if(d){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"]);this._htVisbleEl.byMe.show()}else{this._htVisbleEl.noBody["byMe"].show();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].show();this._htVisbleEl.toMe.show();var b=$Element($$.getSingle(" div.no_inbuddy_v2",this._htVisbleEl.noBody["toMe"].$value()));var a=$Element($$.getSingle(" div.no_inbuddy",this._htVisbleEl.noBody["toMe"].$value()));h=!$Element($$.getSingle(" div.buddy_cnt > p > span.numset > span",this._elContent)).hasClass("n0");var f=null;if(this.sLoginId==this.sBlogId){b.show();a.hide();f=b.$value()}else{a.show();b.hide();f=a.$value()}var c=$Element($$.getSingle("> ._notHaveBuddy",f));var g=$Element($$.getSingle("> ._notOpenBuddy",f));if(h){g.show();c.hide()}else{g.hide();c.show()}}}},_displayByMeList:function(){if(this.bIsAritcleWidget){$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide()}this._htVisbleEl.toMe.hide();this._htVisbleEl.byMe.show();this._htVisbleEl.listArea.show()},_displayToMeList:function(){if(this.bIsAritcleWidget){this._hideArticleList()}this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.show();this._htVisbleEl.listArea.show()},_hideArticleList:function(){$Element($$.getSingle(BuddyConnect.htVisibleElement.article,this._elContent)).hide()},_onClickClickCr:function(a){var d,e;var b=a.element;var c=this.getElement(b,"a");if(b.className.indexOf("_clickcr")>-1){d=this.getParam(b.className);e=b}else{if(c&&c.className.indexOf("_clickcr")>-1){d=this.getParam(c.className);e=c}}if(d){nclk_v2(e,d[0],"","")}},_onClickContent:function(d){var b=d.element;var a=b.tagName.toLowerCase();if(a=="img"){b=b.parentNode;a=b.tagName.toLowerCase()}var f=b.className.split(" ");if(a!="input"&&f[f.length-1]=="_returnFalse"){d.stopDefault()}var c=f[0];if(a=="a"){switch(c){case"select_ui":this._toggleBuddyGroup();break;case"next":this._listContent(this._getAsyncListURL(this._getPageNo(c)));nclk_v2(b,"wbm.page","","");break;case"pre":this._listContent(this._getAsyncListURL(this._getPageNo(c)));nclk_v2(b,"wbm.page","","");break;case"_delete":this._deleteBuddy(b);break;default:break}}else{if(a=="li"){this.setPageNo(1);this._onSelectBuddyGroups(b)}}return true},_deleteBuddy:function(b){if(confirm(this._MSG.CLOSEVISIBLEBUDDY)){var a=$("deleteBuddyForm");a.action=this.getSectionDomain()+BuddyConnect.METADATA.URL.DELETEBUDDY+"?blogId="+this.sBlogId;a.blogNo.value=this.sBlogNo;a.buddyBlogNo.value=this.sBlogUserNo;a.widgetSeq.value=this.sWidgetSeq;a.submit()}},_onSelectBuddyGroups:function(b){if(!$$.getSingle("!> ul !> div.buddy_list",b)){return}var a=b.innerHTML;var c=this.getParam(b.className);this._sSelectedGroupId=c[0];var d=function(){var f=$$("> li",$$.getSingle("> ul",$("buddy_list")));for(var g=0,e=f.length;g<e;g++){if(f[g]==b){$Element(f[g]).addClass("selected")}else{$Element(f[g]).removeClass("selected")}}$$.getSingle(" div.sub_select > a.select_ui",this._elContent).innerHTML=a};this._listContent(this._getAsyncListURL(this._getPageNo()),d);this._hideBuddyGroup()},getParam:function(a){if(a){var c=/_param\((.*)\)/;var b=a.match(c);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(c,b,a){if(typeof a=="undefined"){if(c.tagName.toLowerCase()==b){return c}else{return $$.getSingle("!"+b,c)}}else{if(c.tagName.toLowerCase()==b&&$Element(c).hasClass(a)){return c}else{return $$.getSingle("!"+b+"."+a,c)}}},_getGroupId:function(){return this._sSelectedGroupId},setPageNo:function(a){this._oList.setPageNo(a)},_getPageNo:function(b){var a=this._oList.getCurNo();if(b=="next"){a++}else{if(b=="pre"){a--}}return a},isFirstTab:function(){return $Element(this._elTabArea).hasClass(this._aTabClass[0])},_getAsyncListURL:function(a){var b="";if(this.isFirstTab()){b=BuddyConnect.METADATA.URL.BUDDYLISTBYME}else{b=BuddyConnect.METADATA.URL.BUDDYLISTTOME}return b+"?blogId="+this.sBlogId+"&groupId="+this._getGroupId()+"&currentPage="+a+"&authCode="+this.sAuthCode+"&widgetSeq="+this.sWidgetSeq},_listContent:function(a,b){var c=new $Ajax(a,{onload:$Fn(function(g){var h=g.json();if(h.isSuccess){var d=h.result;var f=this.getListType(d.listType);this.setListType(f);this.upDateBuddyCnt(d.buddyCount);var e=(f=="article")?d.posts:d.buddies;if(e.list.length>0){this._oList.list(e,d.listType);this._displayList()}else{this._displayNoBodyList(f)}this.upDateBuddyGroup(d.buddyGroups);if(b&&typeof b=="function"){b()}}},this).bind()});c.request()},upDateBuddyGroup:function(a){this._sSelectedGroupId=a.selectedGroupId;var c=$$.getSingle(" div.buddy_list > ul",this._elContent);var b=a.list;c.innerHTML=this._getBuddyGroup(b)},_getBuddyGroup:function(b){var d=[];var e=new $Template(BuddyConnect.template.buddyGroup);b.unshift({selected:"null",groupName:"전체 이웃",groupId:"null",openyn:true});for(var c=0,a=b.length;c<a;c++){d.push(e.process({selected:b[c]["groupId"]==this._sSelectedGroupId?"selected":"",groupName:b[c]["groupName"],groupId:b[c]["groupId"],openyn:b[c]["openyn"]==true?"none":"inline"}))}return d.join("")},upDateBuddyCnt:function(a){if(this.isFirstTab()){this._updateToMeBuddyCnt(a)}else{this._updateByMeBuddyCnt(a)}},_showArticleMoreTxt:function(a){a.innerHTML=this._MSG.NEWARTICLE_MORE},_toggleBuddyGroup:function(){var a=$Element($$.getSingle(" div.buddy_list",this._elContent));if(a.visible()){this._hideBuddyGroup()}else{a.show()}},_hideBuddyGroup:function(){$Element($$.getSingle(" div.buddy_list",this._elContent)).hide()},_activeTab:function(d){var c=$Element(this._elTabArea);var b=$Element(this._elContent);var a="tab2";var f=0;var e=1;if(d!="first"){f=1;e=0;b.addClass(a)}else{b.removeClass(a)}c.removeClass(this._aTabClass[e]);c.addClass(this._aTabClass[f])},_updateToMeBuddyCnt:function(b){var a=$$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent);if(b>=0&&a){a.innerHTML=b}},_updateByMeBuddyCnt:function(f){var b=[];var e=String(f).split("");var c=$$.getSingle(" div.buddy_cnt > p > span.numset",this._elContent);var g=$Template(BuddyConnect.template.buddyCnt.num);for(var d=0,a=e.length;d<a;d++){b.push(g.process({num:e[d]}))}$$.getSingle(" div.buddy_cnt > p > strong",this._elContent).innerHTML=f;c.innerHTML=b.join("")+BuddyConnect.template.buddyCnt.dssc},getTabType:function(){return this.isFirstTab()?"byMe":"toMe"},getLoginId:function(){return this.sLoginId}});BuddyConnect.METADATA={IMGPATH:gsImages+"/buddyconnect/widget/",THUMBIMGPATH:gsThumbnailURL,URL:{DELETEBUDDY:"/connect/FollowerVisibilityClose.nhn",BUDDYLISTTOME:"/connect/WidgetAddedMeAsBuddyViewAsync.nhn",BUDDYLISTBYME:"/connect/WidgetViewAsync.nhn"}};BuddyConnect.template={buddyCnt:{num:'<span class="n{=num}"></span>',dssc:'<span class="desc1"><img alt="명이" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="18" height="11"></span><span class="desc2"><img alt="이 블로그를 구독중입니다" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="111" height="11"></span>'},buddyGroup:'<li class="_param({=groupId}) {=selected}">{=groupName} <img width="9" height="11" alt="비공개" style="display:{=openyn}" src="'+gsImages+'/nblog/admin/buddy/ico_lock.gif"/></li>'};BuddyConnect.htVisibleElement={common:{byMe:"div.sub_select",toMe:"div.buddy_cnt"},basic:"> ul.txt_list",detail:"> ul.thumb_list2",thumb:"> ul.thumb_list",article:"> ul.article_list"};BuddyConnect.List=$Class({_oPaging:null,_upObj:null,$init:function(a){this._upObj=a;this._oPaging=new BuddyConnect.List.Paging(this)},list:function(c,b){this._upObj.getListArea().$value().innerHTML=this._getListHTML(c.list,this._upObj.getListType(b),((c.currentPage-1)*c.countPerPage));var d=Math.floor(c.totalCount/c.countPerPage);var a=c.totalCount%c.countPerPage>0?1:0;d=d+a==0?1:d+a;this._oPaging.goPage(c.currentPage,d)},_getListHTML:function(c,e,h){var b=[];var g=this._getTabType();var f=$Template(BuddyConnect.List.template[e][g]);if(e=="article"){for(var d=0,a=c.length;d<a;d++){b.push(f.process({linkUrl:c[d]["linkUrl"],commentCnt:c[d]["commentCnt"],hasCmt:parseInt(c[d]["commentCnt"],10)>0?"":"none",content:c[d]["content"],lastModified:c[d]["lastModified"],blogName:c[d]["blogName"],title:c[d]["title"],RANK:d+h+1}))}}else{if(e=="thumb"){for(var d=0,a=c.length;d<a;d++){b.push(f.process({buddyURL:c[d]["linkUrl"],buddyImg:c[d]["imgUrl"],hasNewPost:c[d]["hasNewPost"]==true?"":"none",neighborNickName:c[d]["neighborNickName"]!=""?c[d]["neighborNickName"]:c[d]["blogName"],blogId:c[d]["blogId"],blogName:c[d]["blogName"],isMe:c[d]["blogId"]==this._getLoginId()?"":"none",RANK:d+h+1}))}}else{for(var d=0,a=c.length;d<a;d++){b.push(f.process({buddyURL:c[d]["linkUrl"],buddyImg:c[d]["imgUrl"],hasNewPost:c[d]["hasNewPost"]==true?"":"none",neighborNickName:c[d]["neighborNickName"]!=""?c[d]["neighborNickName"]:"",hasNickName:c[d]["neighborNickName"]!=""?"":"none",hasNewPost:c[d]["hasNewPost"]==true?"":"none",blogId:c[d]["blogId"],blogName:c[d]["blogName"],isMe:c[d]["blogId"]==this._getLoginId()?"":"none",nickNameTag:c[d]["neighborNickName"]!=""||c[d]["blogId"]!=""?"a":"span",RANK:d+h+1}))}}}return b.join("")},_getTabType:function(){return this._upObj.getTabType()},_getLoginId:function(){return this._upObj.getLoginId()},getSubView:function(){return this._upObj.getSubView()},getCurNo:function(){return this._oPaging.getCurNo()},setPageNo:function(a){this._oPaging.setCurNo(a)}});BuddyConnect.List.template={basic:{byMe:'<li><div class="buddy_info">{if hasNickName != "none"}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wmy.list|{=RANK})" >{=neighborNickName}</a><span class="bar"> | </span>{/if}{if hasNickName == "none" && blogId != ""}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wmy.list|{=RANK})" >{=blogId}</a><span class="bar"> | </span>{/if}<a class="blog_name _clickcr _param(wmy.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" style="display:{=hasNewPost};"></div></li>',toMe:'<li><div class="buddy_info"><a class="_delete _returnFalse" style="display:{=isMe};" href="#"><img height="11" width="11" class="del" alt="delete" src=gsImages + "/buddyconnect/widget/b.gif"></a>{if hasNickName != "none"}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wme.list|{=RANK})" >{=neighborNickName}</a><span class="bar"> | </span>{/if}{if hasNickName == "none" && blogId != ""}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wme.list|{=RANK})" >{=blogId}</a><span class="bar"> | </span>{/if}<a class="blog_name _clickcr _param(wme.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" style="display:{=hasNewPost};"></div></li>'},thumb:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{if hasNickName != "none"}{=neighborNickName}{/if}{if hasNickName == "none" && blogId != ""}{=blogId}{/if}</a></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{if hasNickName != "none"}{=neighborNickName}{/if}{if hasNickName == "none" && blogId != ""}{=blogId}{/if}</a></li>'},detail:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag}  target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{if hasNickName != "none"}{=neighborNickName}{/if}{if hasNickName == "none" && blogId != ""}{=blogId}{/if}</{=nickNameTag}><span style="display:none;" class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag} target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{if hasNickName != "none"}{=neighborNickName}{/if}{if hasNickName == "none" && blogId != ""}{=blogId}{/if}</{=nickNameTag}><span style="display:none;"  class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>'},article:{byMe:'<li><dl><dt><a target="_blank" class="article_title _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=title}</a> <span style="display:{=hasCmt};" class="comment_cnt">[{=commentCnt}]</span></dt><dd class="pub_desc"><a target="_blank" class="article_desc _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=content}</a></dd><dd class="pub_info"><span class="pub_date">{=lastModified}</span> <a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=blogName}</a></dd></dl></li>'}};BuddyConnect.List.Paging=$Class({_upObj:null,_nCurNo:1,elCurPage:null,$init:function(a){this._upObj=a;this.elCurPage=$$.getSingle("> p.paging > span.paging_now",this._upObj.getSubView())},setCurNo:function(a){this._nCurNo=a;this.elCurPage.innerHTML=a},getCurNo:function(){return this._nCurNo},goPage:function(a,b){this.setCurNo(a);this._updateTotalCnt(b);if(a==1){this._disablePreBtn()}else{this._enablePreBtn()}if(b!=a){this._enableNextBtn()}else{this._disableNextBtn()}},_updateTotalCnt:function(a){var b=$$.getSingle("> p.paging > span.paging_all",this._upObj.getSubView());b.innerHTML="/ "+a},_enablePreBtn:function(){var c=$$.getSingle("> p.paging > .pre_n",this._upObj.getSubView());if(!c){return}var b=c.parentNode;var a=$(BuddyConnect.List.Paging.template.pre);b.insertBefore(a,c);b.removeChild(c)},_disablePreBtn:function(){var c=$$.getSingle("> p.paging > .pre",this._upObj.getSubView());if(!c){return}var b=c.parentNode;var a=$(BuddyConnect.List.Paging.template.first);b.insertBefore(a,c);b.removeChild(c)},_enableNextBtn:function(){var c=$$.getSingle("> p.paging > .next_n",this._upObj.getSubView());if(!c){return}var a=c.parentNode;var b=$(BuddyConnect.List.Paging.template.next);a.insertBefore(b,c);a.removeChild(c)},_disableNextBtn:function(){var c=$$.getSingle("> p.paging > .next",this._upObj.getSubView());if(!c){return}var a=c.parentNode;var b=$(BuddyConnect.List.Paging.template.last);a.insertBefore(b,c);a.removeChild(c)}});BuddyConnect.List.Paging.template={first:'<a class="pre_n _returnFalse"><span>처음</span></a>',last:'<a class="next_n _returnFalse"><span>끝</span></a>',pre:'<a href="#" class="pre _returnFalse" href="#"><span>이전</span></a>',next:'<a href="#" class="next _returnFalse"><span>다음</span></a>'};var Utility=$Class({$init:function(){this.oAgent=$Agent().navigator();this.bSelectPrevent=false;this.wfStopEvent=$Fn(this._stopEvent,this)},getAgent:function(){return this.oAgent},getRandNumber:function(){return parseInt(Math.random((new Date()).getTime())*100000,10)},clearInputElDefaultTxt:function(a){if(a.value==a.defaultValue){a.value=""}},zoomIn:function(b,a,c){if(a=="undefined"){a=false}if(c=="undefined"){c=false}window.open("/common/util/imageZoom.jsp?url="+b+"&rClickYn="+a+"&isOwner="+c,"zoomIn","scrollbars=yes,width=10,height=10")},getRequestQueryString:function(c){var a=document.location.search.split("?");if(a!=null&&a!=""){aQuery=a[1].split("%26");nArrCount=aQuery.length;for(i=0;i<=nArrCount-1;i++){var b=aQuery[i].split("=");if(c==b[0]){return b[1]}}}},setTop:function(a){try{if(a){a.scrollTo(0,0)}else{window.scrollTo(0,0);parent.window.scrollTo(0,0)}}catch(b){}},detachSelectPrevent:function(){if(Event&&Event.unregister){Event.unregister(document,"contextmenu",this.wfStopEvent);Event.unregister(document,"dragstart",this.wfStopEvent);Event.unregister(document,"selectstart",this.wfStopEvent)}if(document.body.style.MozUserSelect!=undefined){document.body.style.MozUserSelect=""}},checkRClickYN:function(b,a){if(b&&!a){this._addBlockEvent()}},_stopEvent:function(a){if((a.type=="selectstart"||a.type=="contextmenu")&&this._isContentEditableArea(a.target||a.srcElement)){return}if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a&&a.stopPropagation&&a.preventDefault){a.stopPropagation();a.preventDefault()}},_isContentEditableArea:function(a){if(!a){return false}if(this._isEditableEl(a)){return true}var b=this;var c=$Element(a).parent(function(d){return b._isEditableEl(d.$value())},5);return c!=null&&c.length>0},_isEditableEl:function(a){return a.nodeType==1&&($Element(a).attr("contenteditable")||a.tagName=="TEXTAREA")},_block:function(a){if(this.bSelectPrevent){return}this._stopEvent(a)},_addEvent:function(c,b,a){this.bSelectPrevent=false;if(window.addEventListener){c.addEventListener(b,a,false)}else{if(window.attachEvent){c.attachEvent("on"+b,a)}}},_addBlockEvent:function(){this._addEvent(document,"dragstart",$Fn(this._block,this).bind());this._addEvent(document,"selectstart",$Fn(this._block,this).bind());this._addEvent(document,"contextmenu",$Fn(this._block,this).bind());if(document.body&&document.body.style.MozUserSelect!=undefined){document.body.style.MozUserSelect="none"}},clickPrevent:function(){if(this.checkLayoutPreview()){oCurtain.showCurtain()}return false},actOnUnload:function(){if(this.checkPostPreview()){try{window.opener.editor.setUnloadWarn(true)}catch(a){}}},checkLayoutPreview:function(){return document.location.href.indexOf("Redirect=Preview")>-1},checkPostPreview:function(){return document.location.href.indexOf("PostPreview.nhn")>-1||document.location.href.indexOf("PostPreview.naver")>-1},writelcs:function(a){document.createElement("img").src="http://lcs.naver.com/i{"+a+"}"},writeNewLcs:function(c,b,e,f,d){if(this.isChkNull(e)||typeof(b)=="undefined"){f=false}if(this.isChkNull(b)||this.isChkNull(e)||typeof(b)=="undefined"||typeof(e)=="undefined"){lcs_do_gdid(c,"",f,d)}else{var a={};a[b]=e;lcs_do_gdid(c,a,f,d)}},writeNewLcsNonGdid:function(b,d,e,c){if(this.isChkNull(d)||typeof(b)=="undefined"){e=false}if(this.isChkNull(b)||this.isChkNull(d)||typeof(b)=="undefined"||typeof(d)=="undefined"){lcs_do("",e,c)}else{var a={};a[b]=d;lcs_do(a,e,c)}},resizeIfr:function(a,b){this.resizeIfrWithMargin(a,b,50)},resizeIfrWithMargin:function(d,j,g){var e,f,b,a;e=j||10;try{f=d.contentWindow.document}catch(c){return}if(f.location.href=="about:blank"){d.style.height=e+"px";return}if(this.oAgent.ie&&this.oAgent.version<8){b=f.body.scrollHeight}else{a=f.body.appendChild($("<DIV>"));a.style.clear="both";b=a.offsetTop;a.parentNode.removeChild(a);if(this.oAgent.chrome){f.body.style.overflowY="hidden";l=0}}if(b<e){b=e}d.height=b+g;d.style.height=b+g+"px";e=f=b=a=null},wordBreak:function(a){if(this.oAgent.ie&&!(this.oAgent.version!=6||this.oAgent.version!=7)){a=a.replace(/./g,function(b){return b+"&#x200B;"})}return a},trim:function(a){if(a&&a!=""){a=a.replace(/(^\s*)|(\s*$)/g,"")}return a||""},removeSpace:function(a){if(a&&a!=""){a=a.replace(/\s/g,"")}return a||""},isChkNull:function(c){var b=false;var a=this.trim(c);if(a==null||a==""){b=true}return b},isNotFilled:function(a){if(a.value==a.defaultValue||this.isBlank(a.value)){return true}return(a.value=="")},isFilled:function(a){return !this.isNotFilled(a)},isBlank:function(a){if(a.match(/^\s*$/)){return true}return false},isBlankTextArea:function(a){if(a.value==a.defaultValue){return true}return this.isBlankHTML(a.value)},isBlankHTML:function(a){if(a.replace(/<(?!table|span|img|div|embed|iframe|object)[^>]*>|&nbsp;|\s*/gi,"")){return false}else{return true}},stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},unescapeUnicode:function(unicodes){var regExp=/&#([0-9]+);/gi;var doubleQuote='"';var quotedUnicodes=doubleQuote+unicodes.replace(/\"/gi,"&#34;")+doubleQuote;var lazyTranslated=quotedUnicodes.replace(regExp,doubleQuote+' + String.fromCharCode("$1") + '+doubleQuote);return eval(lazyTranslated)},toText2HTMLWitoutAmp:function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toText2HTML:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toHTML2TextWitoutAmp:function(b){var a=b;a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");a=a.replace(/&#039;/g,"'");a=a.replace(/&#034;/g,'"');a=a.replace(/&quot;/g,'"');return a},toHTML2Text:function(a){return a.replace(/&amp;/g,"&").replace(/&#([0-9]{1,7});/g,function(d,c){var b="";if(c<=65535){b+=String.fromCharCode(c)}else{if(c<=1114111){c-=65536;n=c;b+=String.fromCharCode(55296|(n>>10))+String.fromCharCode(56320|(c&1023))}}return b}).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&#034;/g,'"').replace(/&quot;/g,'"')},bytes:function(g,d,e){var a=0,j=0,c=0,f=g.length;var b=((document.charset||document.characterSet||document.defaultCharset)+"").toLowerCase();var h=(typeof d=="number");if(b=="utf-8"&&!e){for(c=0;c<f;c++){a=g.charCodeAt(c);if(a<128){j+=1}else{if(a<2048){j+=2}else{if(a<65536){j+=3}else{j+=4}}}if(h&&j>d){g=g.substr(0,c);break}}}else{for(c=0;c<f;c++){j+=(g.charCodeAt(c)>128)?2:1;if(h&&j>d){g=g.substr(0,c);break}}}return h?g:j},truncate:function(d,b,g){if(!d||b<4){return d}var f=d;var a=f.length;var e=0;var c=0;while(c<a&&e<b){if(f.charCodeAt(c++)<256){e++}else{if(e<b-3){e+=2}else{break}}}if(c<a){f=f.substring(0,c)+g}return f},getParam:function(a){if(a&&typeof a=="string"){var c=/_param\((.*)\)/;var b=a.match(c);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(c,b,a){if(typeof c.tagName=="undefined"){return c}if(typeof a=="undefined"){if(c.tagName.toLowerCase()==b){return c}else{return $$.getSingle("!"+b,c)}}else{if(c.tagName.toLowerCase()==b&&$Element(c).hasClass(a)){return c}else{return $$.getSingle("!"+b+"."+a,c)}}},leave:function(a){return a.parentNode.removeChild(a)},openHelpWin:function(b,a,c){window.open(b,c?c:"editor_help",a?a:"width=790,height=540")},winOpenCenter:function(a,b,c,j,f,g){var d=Math.round((screen.availLeft||0)+(screen.availWidth-c)*0.5);var h=Math.round((screen.availTop||0)+(screen.availHeight-j)*0.5);var k="top="+h+",left="+d+",width="+c+",height="+j;var f=f||"scrollbars=no,status=yes";k+=(f.indexOf(0)!=","?",":"")+f;g=g||window;var e=g.open(a,b,k);if(e){setTimeout(function(){e.focus()},100)}return e},showLayer:function(c,f,h,k,e){var b,a,j,g,d;j=$Element(f);g=$Element(c);b=g.offset().top+g.height();a=g.offset().left+k;if(h!==undefined&&!isNaN(h)){b+=h}d=k||16;var m={top:b+"px"};(e=="direct")?m.left=a+"px":m.right=d+"px";j.css(m).show()},closeLayer:function(b){var a=$Element($(b));if(a){a.hide()}a=null},resizeImage:function(a){this.resizeImg($("userImg"+a))},resizeImageWithId:function(a){this.resizeImg($(a))},resizeImg:function(a){var d=$Element($(a));if(!d){return}var b,c;b=parseInt(d.width(),10)||100;c=imageWidth==""?550:parseInt(imageWidth,10);if(b>c){d.width(c)}b=c=null},sizeToContent:function(){var a=100;setTimeout(utility.doSizeToContent,a)},doSizeToContent:function(){var a,d,c;a=$Document(document);d=a.clientSize();c=a.scrollSize();try{self.resizeBy(c.width-d.width,c.height-d.height)}catch(b){}a=d=c=null},decodeURIComponentForJava:function(a){var b=decodeURIComponent(a.replace(/\+/g,"%20"));return b.replace(/\$/g,"&#0036;")},_curtain:null,createCurtain:function(d){var c=this,f=$("<div>");var d=$(d);var e=$$("selectbox",document.body);for(var b=0,a=e.length;b<a;b++){e[b].style.visibility="hidden"}if(c._curtain){return}if(d){$Element(d).css("zIndex",1001)}$Element(f).css({backgroundColor:"white",position:"absolute",top:0,left:0,opacity:0.5,filter:"Alpha(Opacity=50)",width:document.body.scrollWidth+"px",height:document.body.scrollHeight+"px",zIndex:1000});document.body.appendChild(f);$Fn(utility.wfStopEvent,this).attach(f,"mousedown");c._curtain=f},removeCurtain:function(){var c=this;if(c._curtain){c._curtain.parentNode.removeChild(c._curtain);c._curtain=null}var d=$$("selectbox",document.body);for(var b=0,a=d.length;b<a;b++){d[b].style.visibility=""}},replaceAll:function(b,d,c){var a="";if(this.trim(b)!=""&&d!=c){a=this.trim(b);while(a.indexOf(d)>-1){a=a.replace(d,c)}}return a},replaceLast:function(c,e,d){var b="";if(this.trim(c)!=""&&e!=d){b=this.trim(c);if(b.indexOf(e)>-1){var a=b.lastIndexOf(e);b=b.substring(0,a)+d}}return b},ellipsis:function(c,h,o){var e,b,j,g,f,d,k,a;f=false;c=$(c);a=$Element(c);o=o||"...";h=parseInt(h,10)||50;e=a.text();e=e.replace(/&nbsp;/ig," ");e=$S(e).unescapeHTML().toString();a.text(o);b=a.width();j=a.height();h=h-b;a.text(e);if(a.width()>=h||a.height()>j){for(var m=2,k=e.length;m<=k;m++){g=e.substring(0,m);a.text(g);if(a.height()>j||a.width()>=h){if(m!=k){a.text(e.substring(0,m-1)+o);f=true;break}else{a.text(g);break}}}}e=b=g=j=m=k=null;return f},ellipsisPage:function(f){var d,e,g,b;f=$(f)||document.body;d=$$("._ellipsis",f);for(var a=0,c=d.length;a<c;a++){e=d[a];g=this.getParam(e.className);b=$Element(e).text();if(g==null){g=105}if(this.ellipsis(e,g[1]||g[0])){e.title=b}}d=e=g=b=null},gotoTag:function(b,a){el=$(b);this.gotoEl(el,a)},gotoEl:function(c,d){if(c&&this.isParentExist()){if(self.parent!=self){if(!d){d={x:0,y:0}}var b=d.x?d.x:0;var a=d.y?d.y:0;self.scrollTo(self.parent.scrollX+b,$Element(c).offset().top+$Element(self.frameElement).offset().top+a)}else{c.scrollIntoView()}}},gotoElWithMargin:function(e,d){var c=$(e);if(c&&this.isParentExist()){if(!d){d={x:0,y:0}}var b=d.x?d.x:0;var a=d.y?d.y:0;if(self.parent!=self){self.scrollTo(self.parent.scrollX+b,$Element(c).offset().top+$Element(self.frameElement).offset().top+a)}else{self.scrollTo(self.scrollX+b,$Element(c).offset().top+a)}}},isParentExist:function(){try{if(!parent||!parent.document||typeof parent=="undefined"){return false}}catch(a){return false}return true},centerLayer:function(e,a){var f=$Document(a).clientSize();var c=$Document(a).scrollPosition();var b=f.height/2-e.offsetHeight/2+c.top;var d=f.width/2-e.offsetWidth/2+c.left;$Element(e).css({top:(b>0?b:0)+"px",left:(d>0?d:0)+"px"})},changeLayerToFixedPosition:function(c,a,b){if(a==null||b==null){return}$Element(c).css({top:(a>0?a:0)+"px",left:(b>0?b:0)+"px"})},positionLayer:function(c,k,o){var d,f,m,b,e,h,a,j,g;o=o||{};h=o.sTargetPos||"tr";a=o.sLayerPos||"tr";j=parseInt(o.nDiffTop,10)||0;g=parseInt(o.nDiffLeft,10)||0;d=$(c);f=$(k);m=$Element(d).offset();b=this.getSize(d);e=this.getSize(f);switch(h){case"tr":nTop=m.top;nLeft=m.left+b.width;break;case"bl":nTop=m.top+b.height;nLeft=m.left;break;case"br":nTop=m.top+b.height;nLeft=m.left+b.width;break;default:nTop=m.top;nLeft=m.left;break}switch(a){case"tr":nLeft-=e.width;break;case"bl":nTop+=e.height;break;case"br":nTop+=e.height;nLeft+=e.width;break;default:break}$Element(f).css({top:(nTop+j)+"px",left:(nLeft+g)+"px"});d=f=m=b=e=h=a=j=g=null},getSize:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},arrays2JsonStr:function(d,a){var e=[];for(var b=0;b<a[0].length;b++){var f=[];for(var c=0;c<a.length;c++){f[f.length]="'"+d[c]+"':'"+a[c][b]+"'"}e[e.length]="{"+f.join(",")+"}"}return"["+e.join(",")+"]"},goBlog:function(d,b,c,e,f){var a="/DomainDispatcher.naver?blogId="+d+"&id="+b+"&type="+c+"&subName="+e;window.open(a,f,"")},goPermalink:function(e,c,d,f,g,a){var b="/DomainDispatcher.naver?blogId="+e+"&id="+c+"&type="+d+"&subName="+f+"&logNo="+a;window.open(b,g,"")},bookmarksite:function(c,a){if(this.oAgent.firefox){window.sidebar.addPanel(c,a,"")}else{if(this.oAgent.opera){var b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("title",c);b.setAttribute("rel","sidebar");b.click()}else{if(this.oAgent.ie){window.external.AddFavorite(a,c)}else{return true}}}},nvl_error:function(c,b,a){if(isJeagleDebug){if(typeof c=="object"&typeof c.description=="string"){c=c+" : "+c.description}if(!b){b=document.location}if(!a){a=0}JEagleEyeClient.sendError(c,b,a)}else{return}},getJsonData:function(b){var c=null;try{c=new Function("","return "+b+";")()}catch(a){}return c},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},isNotValidId:function(a){var b=/^[\uac00-\ud7a30\u3130-\u318f0-9a-zA-Z\s]*$/g;return !b.test(a)},isDuplicateRequest:function(a){if(!this.ckDupReqMap){this.ckDupReqMap=$H()}prevReqTime=this.ckDupReqMap.$(a);if(prevReqTime&&(new Date().getTime()-prevReqTime.getTime()<500)){return true}else{this.ckDupReqMap.add(a,new Date());return false}},isSupportCopyCommand:function(){return !!document.queryCommandSupported&&!!document.queryCommandSupported("copy")}});var Curtain=$Class({_elCurtain:null,$init:function(){this._setEvent()},_setEvent:function(){this.wfResizeCurtain=$Fn(this.resizeCurtain,this).bindForEvent()},_createCurtain:function(){if(!this._elCurtain){var a=$("<div>");$Element(a).css({backgroundColor:"white",position:"fixed",top:0,left:0,zIndex:2147483656});document.body.appendChild(a);$Fn(function(b){b.stop()},this).attach(a,"click");this._elCurtain=a}return this._elCurtain},showCurtain:function(e,c,d){var a=$Agent().navigator();var e=$(e);var c=c||0;if(a.ie&&a.version==6){this.hideSelectbox(true)}var b=$Element(this.getEl()).css({opacity:c,filter:c!=0?"Alpha(Opacity="+c*100+")":"Alpha(Opacity=0)",backgroundColor:typeof d=="string"?d:"#FFF"});var f=this;setTimeout(function(){f.resizeCurtain();$Element(f.getEl()).show();if(e){b.css("zIndex",1000);$Element(e).css("zIndex",1001)}f.attachEvent()},0)},attachEvent:function(){$Fn(this.wfResizeCurtain,this).attach(window,"resize")},detachEvent:function(){$Fn(this.wfResizeCurtain,this).detach(window,"resize")},resizeCurtain:function(){var a=$Document().scrollSize();$Element(this.getEl()).css({width:a.width+"px",height:"100%"})},hideCurtain:function(){$Element(this.getEl()).hide();var a=$Agent().navigator();if(a.ie&&a.version==6){this.hideSelectbox(false)}this.detachEvent()},hideSelectbox:function(a){$A(document.getElementsByTagName("selectbox")).forEach(function(b){b.style.visibility=a?"hidden":""})},getEl:function(){return this._createCurtain()}});var Penalty=$Class({$init:function(){if(typeof isWritingBlocked!="undefined"){this.writingBlocked=isWritingBlocked;this.writingBlockedBySpamIP=isWritingBlockedBySpamIP;this.writingBlockedBySpamIPManually=isWritingBlockedBySpamIPManually;this.initializingBlog=isInitializingBlog;this.WRITE_BLOCKED="죄송합니다. 블로그 서비스 내 글쓰기가 제한된 상태입니다.";this.WRITE_BLOCKED_BY_SPAMIP="죄송합니다. 해당 IP의 블로그 서비스 내 글쓰기가 제한된 상태입니다."}},isBlocked:function(){return this.writingBlocked||this.writingBlockedBySpamIP||this.writingBlockedBySpamIPManually},isWritingBlockedBySpamIP:function(){return this.writingBlockedBySpamIP},isWritingBlockedBySpamIPManually:function(){return this.writingBlockedBySpamIPManually},isWritingBlocked:function(){return this.writingBlocked},isInitializingBlog:function(){return this.initializingBlog},showMessage:function(a){if(this.writingBlockedBySpamIPManually){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlockedBySpamIP){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlocked||this.initializingBlog){alert(this.WRITE_BLOCKED)}}}if(a){a.blur()}}});var CaptchaObject=$Class({openLayeredCaptchaForPostWrite:function(c,d,a){var e=$("captcha_layer");var b=$Element(e);if(!b){return}b.show();$("captchalayeredframe").src=c;if(d==true){utility.changeLayerToFixedPosition(e,a.top,a.left)}else{utility.centerLayer(e,document)}oCurtain.showCurtain(e,0.1,"#000")},openLayeredCaptcha:function(c,d,a){var e=parent.$("captcha_layer");var b=$Element(e);if(!b){return}b.show();parent.$("captchalayeredframe").src=c;if(d==true){utility.changeLayerToFixedPosition(e,a.top,a.left)}else{utility.centerLayer(e,parent.document)}parent.oCurtain.showCurtain(e,0.1,"#000")},closeLayeredCaptcha:function(){parent.oCurtain.hideCurtain();$Element(parent.$("captcha_layer")).hide();parent.$("captchalayeredframe").src=""},validateFormAfterOpenCaptchaLayer:function(a){parent.$("target").value="CommentFrm"+a;this.openLayeredCaptcha("/CommentWriteCaptchaLayerOpen.naver?blogId="+blogId,false)}});var captchaObj=new CaptchaObject();var WriteLimitObject=$Class({openLayeredWriteLimit:function(c,b,a){var d=null;if(c=="day"){d=parent.$("day_write_limit_layer")}else{if(c=="reported"){d=parent.$("reported_write_limit_layer")}}document.body.focus();if(!d){return}$Element(d).show();if(b==true){utility.changeLayerToFixedPosition(d,a.top,a.left)}else{utility.centerLayer(d,parent.document)}parent.oCurtain.showCurtain(d,0.1,"#000")},closeLayeredWriteLimit:function(a){oCurtain.hideCurtain();if(a=="day"){elLayeredWriteLimitLayer=$("day_write_limit_layer")}else{if(a=="reported"){elLayeredWriteLimitLayer=$("reported_write_limit_layer")}}$Element(elLayeredWriteLimitLayer).hide()}});var writeLimitObj=new WriteLimitObject();var LoginObject=$Class({login:false,$init:function(){},setIsLogin:function(a){this.login=a},getIsLogin:function(){return this.login},isLogin:function(c,b){var a="/isLogin.naver";new $Ajax(a,{method:"get",onerror:function(){},async:false,onload:$Fn(function(d){var d=d.text();if(d=="LOGOUT"){this.setIsLogin(false)}else{if(d=="LOGIN"){this.setIsLogin(true)}}d=null},this).bind()}).request();this.loginProc(c,b)},loginProc:function(b,a){if(this.getIsLogin()){if(typeof b=="function"){b()}}else{if(typeof a=="function"){a()}}},openLayeredLogin:function(){var a="https://nid.naver.com/nidlogin.login?mode=form&svctype=64&url="+encodeURIComponent(blogURL+"/closePopup.naver");window.open(a,"login","width=400,height=260,location=no,resizable=no")},closeLayeredLogin:function(){oCurtain.hideCurtain();$Element($("loginstart_layer")).hide();$("layeredframe").src=""},popUpLogin:function(b){var b=!!b?b:blogURL+"/post/common/simpleReloadOpenerAndClose.jsp";if(b=="self reload"){b=blogURL+"/post/common/simpleReloadOpenerAndClose.jsp"}else{if(b=="parent reload"){b=blogURL+"/post/common/reloadOpenerParentAndClose.jsp"}else{if(b=="top reload"){b=blogURL+"/post/common/reloadOpenerTopAndClose.jsp"}else{if(b=="self replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=self"}else{if(b=="parent replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=parent"}else{if(b=="top replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=top"}}}}}}var a=idURLSecret+"/nidlogin.login?template=plogin&mode=form&url="+encodeURIComponent(b);utility.winOpenCenter(a,"PopUpLogin",374,405)},forwardLoginPage:function(a){var a=!!a?a:location.href;location.href=idURLSecret+"/nidlogin.login?mode=form&url="+encodeURIComponent(a)}});var Monitoring=$Class({bAlreadyRequest:false,blogId:"",serviceLog:"",punishType:"",punishTargetNo:"",highestPunishType:"",releaseRequest:function(b,e,d,a,c){this.blogId=b;this.serviceLog=e;this.punishType=d;this.punishTargetNo=a;this.highestPunishType=c;this._checkAlreadyRequested(b,d,a)},_checkAlreadyRequested:function(b,d,a){try{new $Ajax("/ReleaseRequestCheckAsync.naver?blogId="+b+"&punishType="+d+"&punishTargetNo="+a,{method:"get",onerror:function(){},onload:$Fn(this._onResponse,this).bind()}).request()}catch(c){utility.nvl_error(c,blogURL+"/nblog_common.js/Monitoring/checkAlreadyRequested ",c.lineNumber);throw c}},_onResponse:function(c){if(c.text()=="true"){alert("이미 접수하신 제한 해제 요청이 검토 중입니다.\n최대한 빠른 시간 내에 요청 내용을 검토한 후 그 결과를 메일로 안내해드리겠습니다.");return}var b,d,a;b="/global/main/releaseRequest.jsp?blogId="+this.blogId+"&serviceLog="+this.serviceLog+"&punishType="+this.punishType+"&punishTargetNo="+this.punishTargetNo+"&highestPunishType="+this.highestPunishType;d="width=347,height=250,scrollbars=no";a="brequest";utility.openHelpWin(b,d,a);b=d=a=null},monitorToggle:function(a,c){var b=$Element($(a));var d=$(c);if(b.visible()){d.innerHTML="자세히 보기";b.removeClass("close");b.hide()}else{d.innerHTML="그만보기";b.addClass("close");b.show()}b=d=null},blockContentToggle:function(d,b){var a=$Element($(d));var c=$(b);if(a.visible()){c.innerHTML="내용열기";a.removeClass("close");a.hide()}else{c.innerHTML="내용닫기";a.addClass("close");a.show()}a=c=null},monitorToggleNew:function(a,c){var b=$Element($(a));var d=$(c);if(b.visible()){d.innerHTML="자세히 보기";b.parent().addClass("appr_rst_cl");b.hide()}else{d.innerHTML="접기";b.parent().removeClass("appr_rst_cl");b.show()}b=d=null}});var setSlidePhoto2View=function(f,c,b,a,d){var e=[];e.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');e.push('<param name="allowScriptAccess" value="always" />');e.push('<param name="FlashVars" value="" />');e.push('<param name="movie" value="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+f+"&w="+b+"&h="+a+"&f="+d+"&s="+c);e.push('" />');e.push('<param name="quality" value="high" />');e.push('<param name="bgcolor" value="#ffffff" />');e.push('<param name="wmode" value="transparent" />');e.push('<embed wmode="transparent" src="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+f+"&w="+b+"&h="+a+"&f="+d+"&s="+c+'" quality="high" bgcolor="#ffffff"');e.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object>');document.write(e.join(""))};var setSlidePhoto2Preview=function(f,c,b,a,d){var e=[];e.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');e.push('<param name="allowScriptAccess" value="always" />');e.push('<param name="FlashVars" value="" />');e.push('<param name="movie" value="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+f+"&w="+b+"&h="+a+"&f="+d+"&s="+c);e.push('" />');e.push('<param name="quality" value="high" />');e.push('<param name="bgcolor" value="#ffffff" />');e.push('<param name="wmode" value="transparent" />');e.push('<embed wmode="transparent" src="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+f+"&w="+b+"&h="+a+"&f="+d+"&s="+c+'" quality="high" bgcolor="#ffffff"');e.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object></div>');$("previewArea").innerHTML=e.join("")};var SimpleTimer=$Class({$init:function(c,b,a){this.callback=c;this.frequency=b;this.currentlyExecuting=false;this._oParam=a;this._registerCallback()},_registerCallback:function(){this.timer=setInterval($Fn(this.onTimerEvent,this).bind(),this.frequency*1000)},execute:function(){this.callback(this,this._oParam)},stop:function(){if(!this.timer){return}clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute()}finally{this.currentlyExecuting=false}}}});var utility=new Utility();var resizeImage=$Fn(utility.resizeImage,this).bind();var resizeImg=$Fn(utility.resizeImg,this).bind();var goBlog=$Fn(utility.goBlog,this).bind();var goPermalink=$Fn(utility.goPermalink,this).bind();var oCurtain=new Curtain();var penalty=new Penalty();var loginObj=new LoginObject();var oMonitoring=new Monitoring();var hideSmartEditor3Layer=function(){nclk_v2(this,"prf_lyr.close2","","");$Element($("smartEditor3Layer")).hide()};var hideForever=function(){nclk_v2(this,"prf_lyr.close1","","");new $Ajax("/HideSmartEditor3Layer.naver",{method:"post",onload:$Fn(function(a){if(a&&a.text()&&a.text()!=""){hideSmartEditor3Layer();return}},this).bind()}).request({blogId:blogId})};var removeStylesDisplay=function(){document.querySelector(".lyr_official_blog").style.display=""};var hideOfficialBlogGuideLayer=function(){document.querySelector(".lyr_official_blog").style.display="none"};var hidOfficialBlogLayer=function(){document.querySelector(".lyr_reputation").style.display="none"};var hideOfficialBlogLayerForever=function(){new $Ajax("/HideOfficialBlogLayerAsync.naver",{method:"post",onload:$Fn(function(a){if(a&&!!a.text()){hidOfficialBlogLayer();return}},this).bind()}).request({blogId:blogId})};(function(d){var g=function(v,o,s,u,q,t,p){a(v,o,s,u,t,p)};var j=d.ccsrv||"cc.naver.com";var h=d.nsc||"decide.me";var b={};var e=d.g_allowedOrigin||"";var m={};g.vs="0.8.1";g.md="cc";g.pt="https:";g.ec=encodeURIComponent;g.st=1;g.ua={};if(self!==parent&&!!e){parent.postMessage("getLCSInfo",e);window.addEventListener("message",function(o){if(o.origin!==e){return}m=JSON.parse(o.data)},false)}(function c(){try{if(typeof navigator==="undefined"||!navigator||!navigator.userAgentData){return false}var t=navigator.userAgentData;var q=t.uaList||t.brands;var p=["architecture","model","platform","platformVersion","uaFullVersion","fullVersionList"];var o=function(v,u){return Object.prototype.toString.call(v).slice(8,-1).toLowerCase()===u.toLowerCase()};var s=function(y,x){var x=x?x+"_":"";if(!o(y,"array")){return}for(var w=0,u=y.length;w<u;w++){if(!o(y[w],"object")){continue}for(var v in y[w]){g.ua[x+v+"_"+w]=y[w][v]||""}}};g.ua.mobile=t.mobile;s(q);navigator.userAgentData.getHighEntropyValues(p).then(function(v){for(var u in p){var w=p[u];if(w=="fullVersionList"){s(v[w],"full")}else{g.ua[w]=v[w]||""}}})}catch(r){console.warn(r)}})();function f(w,q,t,v,s,u){var p=d.g_nclk_proxy||"";if(p&&w.href){w.href=p+g.ec(w.href)}return g(w,q,t,v,s,u)}function k(o){var p=o||{};if(!p.e||!p.a){return}b.g_ssc=p.g_ssc||"";b.g_query=p.g_query||"";b.g_sid=p.g_sid||"";b.g_pid=p.g_pid||"";b.g_lcsurl=p.g_lcsurl||"";b.g_lcssti=p.g_lcssti||"";a(p.e,p.a,p.i,p.r,p.g,p.pid);b={}}function a(y,A,u,p,w,v){var s,t,C,z;var B=y;var q=y;if("nodeType" in y&&y.nodeType>=1){B=window.event||y}else{if(y){var x=y.srcElement||y.currentTarget||y.target;if(x){q=g.findLink(x)}}}if(!w){w=""}z=g.gcp(q,B);C=g.gl(A,u,p,z,"",0,g.st,w,v);t=g.l(q,C);g.sd(t);return true}g.findLink=function(p){var o=p;while(o&&o.tagName!=="BODY"&&o.tagName!=="HTML"){if(o.tagName==="A"||!o.parentNode){break}o=o.parentNode}if(o.tagName!=="A"){o=p}return o};g.l=function(s,q){var p,t,r;if(s&&s.href&&s.getAttribute("href")){t=s.tagName.toLowerCase();r=s.href.toLowerCase();if(r&&r.indexOf(g.pt+"//"+j)==0){p=s.href}else{if(r&&r.indexOf(g.pt+"//"+j)!=0&&t&&t!="img"){p=q+"&u="+g.ec(s.href)}}return p}return q+"&u=about%3Ablank"};g.sendByBeacon=function(o){var p=o.split("?");navigator.sendBeacon(p[0],p[1])};g.sendByImage=function(o){var p=new Date().getTime();(new Image()).src=o+"&nt="+p};g.sd=!!navigator.sendBeacon?g.sendByBeacon:g.sendByImage;g.ggv=function(o){return b[o]||d[o]||""};g.gl=function(H,E,A,o,x,C,y,F,z){var w=g.ggv("g_ssc");var p=g.ggv("g_query");var t=g.ggv("g_pid");var I=g.ggv("g_sid");var J=g.ggv("g_lcsurl")||m.g_lcsurl||window.location.href;var B=g.ggv("g_lcssti")||m.g_lcssti||null;var v=d.lcs_get_lpid||m.lcs_get_lpid||null;if(C==undefined){C=1}if(y==undefined){y=1}var D=g.pt+"//"+j+"/"+g.md+"?a="+H+"&r="+A+"&i="+E+"&m="+C;if(y==1){if(w){D+="&ssc="+w}if(p){D+="&q="+g.ec(p)}if(I){D+="&s="+I}if(z){D+="&p="+z}else{if(t){D+="&p="+t}else{if(v){D+="&p="+(typeof v=="function"?v():v)}else{console.warn("'g_pid / lcs_get_lpid' is not exist.")}}}}else{D+="&nsc="+h;console.warn("[DEPRECATED] NSC mode")}if(F){D+="&g="+F}if(x){D+="&u="+g.ec(x)}if(J){D+="&lcsurl="+g.ec(J)}if(B){D+="&lcssti="+B}if(o){D+=o}var G,q;for(G in g.ua){q=g.ua[G];if(q){D+="&ua_"+G+"="+g.ec(q)}}return D};g.al=function(q,p){var o=window;if(o.addEventListener){o.addEventListener(q,p,false)}else{if(o.attachEvent){o.attachEvent("on"+q,p)}}};g.gsbw=function(){var q=document.createElement("p");q.style.width="200px";q.style.height="200px";var r=document.createElement("div");r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.visibility="hidden";r.style.width="200px";r.style.height="150px";r.style.overflow="hidden";r.appendChild(q);document.body.appendChild(r);var p=q.offsetWidth;r.style.overflow="scroll";var o=q.offsetWidth;if(p==o){o=r.clientWidth}document.body.removeChild(r);return(p-o)};g.fp=function(p){var q=curtop=0;try{if(p.offsetParent){do{q+=p.offsetLeft;curtop+=p.offsetTop}while(p=p.offsetParent)}else{if(p.x||p.y){if(p.x){q+=p.x}if(p.y){curtop+=p.y}}}}catch(o){}return[q,curtop]};g.ws=function(q){if(!q){q=window}var o=0;if(q.innerWidth){o=q.innerWidth;if(typeof(q.innerWidth)=="number"){var p=g.gsbw();o=q.innerWidth-p}}else{if(document.documentElement&&document.documentElement.clientWidth){o=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){o=document.body.clientWidth}}}return o};g.ci=function(v){var s=document.URL;var u=v.parentNode;var o;var r;var q;if(u==null||u==undefined){return false}while(1){if(u.nodeName.toLowerCase()=="#document"){if(u.parentWindow){o=u.parentWindow}else{o=u.defaultView}try{if(o.frameElement!=null&&o.frameElement!=undefined){if(o.frameElement.nodeName.toLowerCase()=="iframe"){r=o.frameElement.id;if(!r){return false}return r}else{return false}}else{return false}}catch(t){return false}}else{u=u.parentNode;if(u==null||u==undefined){return false}}}};g.gcp=function(t,v){var x=-1;var w=-1;var z=-1;var y=-1;var p,o,r;var q="";var s=window.event?window.event:t;if(v){s=v||window.event}try{bw=g.ws(window);r=g.ci(t);if(r){var u=g.fp(document.getElementById(r));if(s.clientX&&s.clientX!=undefined){p=document.body;if(p.clientLeft&&p.clientTop){ifrSx=s.clientX-p.clientLeft;ifrSy=s.clientY-p.clientTop}else{ifrSx=s.clientX;ifrSy=s.clientY}}z=u[0]+ifrSx;y=u[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){p=document.body;x=z-p.scrollLeft;w=y-p.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){o=document.documentElement;x=z-o.scrollLeft;w=y-o.scrollTop}else{x=z;w=y}}}else{if(s.clientX&&s.clientX!=undefined){p=document.body;if(p.clientLeft&&p.clientTop){x=s.clientX-p.clientLeft;w=s.clientY-p.clientTop}else{x=s.clientX;w=s.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){z=document.body.scrollLeft+(x<0?0:x);y=document.body.scrollTop+(w<0?0:w)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){o=document.documentElement;if(o.scrollLeft!=undefined){z=o.scrollLeft+(x<0?0:x)}if(o.scrollTop!=undefined){y=o.scrollTop+(w<0?0:w)}}else{z=(x<0?0:x);y=(w<0?0:w)}}if(s.pageX){z=s.pageX}if(s.pageY){y=s.pageY}}}catch(v){}if((z!=-1)&&(y!=-1)){q+="&px="+z+"&py="+y}if((x!=-1)&&(w!=-1)){q+="&sx="+x+"&sy="+w}return q};d.nclk_proxy=f;d.nclk=g;d.nclk_v2=a;d.nclk_v2_with_obj=k})(window);if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["BuddyConnectWidget-517009300_js"]=true;
