(window.__se_viewer_jsonp=window.__se_viewer_jsonp||[]).push([[35],{508:function(t,i,e){"use strict";e.r(i);e(20),e(37);var n=e(30),s=e.n(n),o=e(223),a=e.n(o),h=e(64),r=(e(39),e(226),e(79),e(51),e(53),e(227),e(225),{NEXT:Symbol("NEXT"),PREV:Symbol("PREV")}),l=!!("getComputedStyle"in window),u=!!("addEventListener"in document),_=function(){for(var t=(document.head||document.getElementsByTagName("head")[0]).style,i=["transform","webkitTransform","msTransform","mozTransform"],e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e];return""}(),g="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";function c(t){return function(t,i){if(t===window)return t.document.documentElement["client"+i];if(9===t.nodeType){var e=t.documentElement;return Math.max(t.body["scroll"+i],e["scroll"+i],t.body["offset"+i],e["offset"+i],e["client"+i])}var n=function(t){return l?window.getComputedStyle(t):t.currentStyle}(t),s=n[i.toLowerCase()];return parseFloat(/auto|%/.test(s)?t["offset"+i]:n[i.toLowerCase()])}(t,"Width")}var d=function(t,i){var e=this;this.options=i,this._events={},this._left=0,this._axes=new seEg.MovableCoord({min:[0,0],max:[100,100],bounce:[this.options.bounce,this.options.bounce]}),this._axes.on("animationEnd",function(){e.trigger("changePosition",{left:e._left})}),this._bind(t,[-1,1]),this.options.thumb&&this._bind(this.options.thumb,[-1,1]),this._size={view:0,container:0},this._view=t,this._container=t.children[0],this._children=[],this._items=[],this._init(),this.resize()};d.prototype._bind=function(t,i){this._axes.bind(t,{scale:i,direction:seEg.MovableCoord.DIRECTION_HORIZONTAL})},d.prototype._setPosition=function(t,i){void 0===i&&(i=0);var e=this._size.container-this._size.view;e<=0||(this._left=t,this._axes.setTo(t/e*100,0,i))},d.prototype._scroll=function(t){var i=t[0],e=i*(this._size.container-this._size.view)/100;if(this._container.style[_||"left"]=_?"translateX("+-e+"px)":-e+"px",this.options.thumb){var n=100-this._size.thumb,s=n*i/100;this.options.thumb.style.left=Math.min(Math.max(s,0),n)+"%"}this._left=e,this.trigger("changePosition",{left:this._left})},d.prototype._init=function(){var t=this;this._axes.on("change",function(t){var i=t.pos;this._scroll(i)}.bind(this)),function(t,i,e){u?t.addEventListener(i,e,!1):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}(this._container,g,function(t){var i=t.deltaX,e=t.deltaY;"mousewheel"===g?(e=-.025*t.wheelDelta,t.wheelDeltaX&&(i=-.025*t.wheelDeltaX)):e=t.deltaY||t.detail,0===i||Math.abs(e)>Math.abs(i)||((0===e||Math.abs(e)<Math.abs(i))&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this._axes.setBy(i,0,0))}.bind(this));var i=this._view.getElementsByClassName("se-image-resource"),e=Array.prototype.slice.call(i);e.forEach(function(i){i.onload=function(){e.every(function(t){return t.complete})&&t.resize()}})},d.prototype.prev=function(t){this._moveTo(r.PREV,t)},d.prototype.next=function(t){this._moveTo(r.NEXT,t)},d.prototype._moveTo=function(t,i){void 0===t&&(t=r.NEXT);var e=this.getCurrentPosition();if(e){var n=t===r.NEXT,s=e[n?"endIndex":"startIndex"],o=this._items[s],a=n?"right":"left";if(o){(n?1:-1)*(e[a]-o[a])>=0&&(this._isLastIndex(s,t)||(o=this._items[s+(n?1:-1)]));var h=this._getFollowingPosition(o,e.left,e.right,t);this._setPosition(h,i)}}},d.prototype.getCurrentPosition=function(){var t=this._size.view;if(!(this._size.container-t<=0)){var i=Math.max(Math.round(this._left),0),e=i+t,n=function(t,i,e){return t.reduce(function(t,n,s){return(i<=n.right&&n.right<=e||i<=n.left&&n.left<e||n.left<=i&&e<=n.right)&&t.push(s),t},[])}(this._items,i,e);return{left:i,right:e,startIndex:n[0],endIndex:n[n.length-1]}}},d.prototype._isLastIndex=function(t,i){return i===r.NEXT?t+1===this._items.length:0===t},d.prototype._getFollowingPosition=function(t,i,e,n){void 0===n&&(n=r.NEXT);var s=t.right-t.left,o=this._size.view;return s>o?t.left<=i&&e<=t.right?n===r.NEXT?t.left+s-o:t.left:n===r.NEXT?t.left:t.right-o:t.left-(o-s)/2},d.prototype.destory=function(){this._axes.destory(),this._axes=null},d.prototype.on=function(t,i){return!this._events[t]&&(this._events[t]=[]),this._events[t].push(i),this},d.prototype.trigger=function(t,i){if(!this._events[t])return this;for(var e=this._events[t],n=e.length,s=0;s<n;++s)e[s](i)},d.prototype.getImagePanelSize=function(){return this._size},d.prototype.isShowBar=function(){return!!this._isShowBar},d.prototype.resize=function(){var t=this._view,i=this._container,e=this._view.offsetWidth;this._size={view:e,container:Math.round(Math.max(t.scrollWidth,i.scrollWidth,c(i)))};var n=this._size.container-this._size.view,s=n?Math.max(100/n,0):0;if(this._axes.unbind(this._view),this._bind(this._view,[-s,1]),this.options.thumb){this._size.progress=this.options.progress&&c(this.options.progress)||this._size.view,this._size.thumb=this._size.view/this._size.container*100;var o=100/(this._size.progress*(1-this._size.thumb/100)),a=this.options.thumb.style;this._size.thumb>=100?(this._isShowBar=!1,(!a.display||"none"!==a.display)&&this.trigger("hideBar"),this.options.thumb.style.display="none",this.options.progress.style.display="none"):(this._isShowBar=!0,(!a.display||"none"===a.display)&&this.trigger("showBar"),this._axes.unbind(this.options.thumb),this._bind(this.options.thumb,[o,1]),this.options.thumb.style.width=this._size.thumb+"%",this.options.thumb.style.display="block",this.options.progress.style.display="block")}for(var h,r=[],l=Array.prototype.slice.call(i.children),u=l.length,_=0;_<u;++_)if(1!==l[_].nodeType)h=0===_?0:r[_].right,h=Math.round(h),r.push({left:h,right:h});else{var g=l[_].offsetLeft;g=Math.round(g),r.push({left:g,right:Math.round(g+c(l[_]))})}this._items=r,this._children=l,this._scroll(n<0?0:this._axes.get()),this.trigger("resize")};var v=d;e.d(i,"ImageGroupComponent",function(){return p});var p=function(t){function i(i){var e,n=i.initData,s=i.instanceStatus;return(e=t.call(this,s)||this)._isMobile=h.e.isMobile(),e._initVar(n),e._initModule(n),e.__ON_READY_COMPONENT__("image-group"),e}s()(i,t);var e=i.prototype;return e._initVar=function(t){this._$elBase=$seJq("#"+t.id),this._$elNavigationWrap=this._$elBase.find(".se-imageGroup-navigation"),this._$elNextNavigationButton=this._$elBase.find(".se-imageGroup-navigation-button-next"),this._$elPrevNavigationButton=this._$elBase.find(".se-imageGroup-navigation-button-prev")},e._initModule=function(t){"slide"===t.layout&&this._initSlideImagePanelModule(t)},e._initSlideImagePanelModule=function(){var t=this._$elBase.find(".se-imageGroup-viewer").get(0),i=this._$elBase.find(".se-imageGroup-progress").get(0),e=this._$elBase.find(".se-imageGroup-thumb").get(0);this._imagePanel=new v(t,{bounce:0,progress:i,thumb:e,right:!0}),this._bindSlideImagePanelEvent(),this._checkShowBar(),this._isMobile?this._removeNavigationButton():(this._imagePanel.on("changePosition",this._changeImagePanelPosition.bind(this)),this._imagePanel.on("resize",this._checkShowBar.bind(this)),this._checkNavigationButton())},e._changeImagePanelPosition=function(t){this._checkNavigationButton(),t&&this.emit("onChangePosition",t)},e._bindSlideImagePanelEvent=function(){var t=this;this._$elBase.on("click",this._stopClickEventWithDragging.bind(this)),this._$elBase.on("mousedown",this._saveCurrentPageX.bind(this)),this._isMobile||(this._$elBase.on("click",".se-imageGroup-navigation-button-prev",this._onClickPrevSlide.bind(this)),this._$elBase.on("click",".se-imageGroup-navigation-button-next",this._onClickNextSlide.bind(this))),window.addEventListener("resize",a()(function(){return t._imagePanel.resize()},250))},e._stopClickEventWithDragging=function(t){this._isDragged(t.pageX)&&(t.stopPropagation(),t.preventDefault()),this.pageX=null},e._isDragged=function(t){return!!this.pageX&&Math.abs(t-this.pageX)>5},e._saveCurrentPageX=function(t){this.pageX=t.pageX},e._checkShowBar=function(){this._imagePanel.isShowBar()&&!this._isMobile?this._showBar():this._hideBar()},e._checkNavigationButton=function(){var t=this._imagePanel.getCurrentPosition(),i=this._imagePanel.getImagePanelSize();!t||t.left<=0?(this._disabledNavigationButton(this._$elPrevNavigationButton),this._enableNavigationButton(this._$elNextNavigationButton)):t.right>=i.container?(this._disabledNavigationButton(this._$elNextNavigationButton),this._enableNavigationButton(this._$elPrevNavigationButton)):(this._enableNavigationButton(this._$elPrevNavigationButton),this._enableNavigationButton(this._$elNextNavigationButton))},e._enableNavigationButton=function(t){t.removeAttr("disabled")},e._disabledNavigationButton=function(t){t.attr("disabled","disabled")},e._removeNavigationButton=function(){this._$elNavigationWrap.remove()},e._showBar=function(){this._$elNavigationWrap.addClass("se-is-on")},e._hideBar=function(){this._$elNavigationWrap.removeClass("se-is-on")},e._onClickPrevSlide=function(){this._imagePanel.prev(200)},e._onClickNextSlide=function(){this._imagePanel.next(200)},i}(h.a);i.default=p}}]);